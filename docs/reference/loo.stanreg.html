<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../Articles/index.html">Articles</a>
</li>
<li>
  <a href="https://htmlpreview.github.io/?https://github.com/stan-dev/rstanarm/blob/master/dev-notes/rstanarm_dev_notes.html">Develop</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.055153 seconds (Warm-up)
#&gt;                0.046944 seconds (Sampling)
#&gt;                0.102097 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.053974 seconds (Warm-up)
#&gt;                0.05796 seconds (Sampling)
#&gt;                0.111934 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.048239 seconds (Warm-up)
#&gt;                0.050106 seconds (Sampling)
#&gt;                0.098345 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.047125 seconds (Warm-up)
#&gt;                0.047535 seconds (Sampling)
#&gt;                0.09466 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.083309 seconds (Warm-up)
#&gt;                0.08201 seconds (Sampling)
#&gt;                0.165319 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.079826 seconds (Warm-up)
#&gt;                0.081137 seconds (Sampling)
#&gt;                0.160963 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.083183 seconds (Warm-up)
#&gt;                0.080826 seconds (Sampling)
#&gt;                0.164009 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.076507 seconds (Warm-up)
#&gt;                0.080569 seconds (Sampling)
#&gt;                0.157076 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.413893 seconds (Warm-up)
#&gt;                0.42144 seconds (Sampling)
#&gt;                0.835333 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.38088 seconds (Warm-up)
#&gt;                0.320301 seconds (Sampling)
#&gt;                0.701181 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.452214 seconds (Warm-up)
#&gt;                0.355756 seconds (Sampling)
#&gt;                0.80797 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.362083 seconds (Warm-up)
#&gt;                0.302227 seconds (Sampling)
#&gt;                0.66431 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.37747 seconds (Warm-up)
#&gt;                0.407982 seconds (Sampling)
#&gt;                0.785452 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.527518 seconds (Warm-up)
#&gt;                0.35083 seconds (Sampling)
#&gt;                0.878348 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.467379 seconds (Warm-up)
#&gt;                0.39898 seconds (Sampling)
#&gt;                0.866359 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.395039 seconds (Warm-up)
#&gt;                0.313997 seconds (Sampling)
#&gt;                0.709036 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.387258 seconds (Warm-up)
#&gt;                0.373508 seconds (Sampling)
#&gt;                0.760766 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.43534 seconds (Warm-up)
#&gt;                0.452875 seconds (Sampling)
#&gt;                0.888215 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.38559 seconds (Warm-up)
#&gt;                0.380572 seconds (Sampling)
#&gt;                0.766162 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.36229 seconds (Warm-up)
#&gt;                0.416377 seconds (Sampling)
#&gt;                0.778667 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.426474 seconds (Warm-up)
#&gt;                0.385032 seconds (Sampling)
#&gt;                0.811506 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.449152 seconds (Warm-up)
#&gt;                0.40222 seconds (Sampling)
#&gt;                0.851372 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.422556 seconds (Warm-up)
#&gt;                0.484446 seconds (Sampling)
#&gt;                0.907002 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.400893 seconds (Warm-up)
#&gt;                0.479176 seconds (Sampling)
#&gt;                0.880069 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.412516 seconds (Warm-up)
#&gt;                0.464297 seconds (Sampling)
#&gt;                0.876813 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.373728 seconds (Warm-up)
#&gt;                0.351956 seconds (Sampling)
#&gt;                0.725684 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.368027 seconds (Warm-up)
#&gt;                0.480749 seconds (Sampling)
#&gt;                0.848776 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.412825 seconds (Warm-up)
#&gt;                0.35158 seconds (Sampling)
#&gt;                0.764405 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051334 seconds (Warm-up)
#&gt;                0.048697 seconds (Sampling)
#&gt;                0.100031 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.059149 seconds (Warm-up)
#&gt;                0.044946 seconds (Sampling)
#&gt;                0.104095 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049406 seconds (Warm-up)
#&gt;                0.054209 seconds (Sampling)
#&gt;                0.103615 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051184 seconds (Warm-up)
#&gt;                0.04831 seconds (Sampling)
#&gt;                0.099494 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.060339 seconds (Warm-up)
#&gt;                0.048211 seconds (Sampling)
#&gt;                0.10855 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.059596 seconds (Warm-up)
#&gt;                0.047933 seconds (Sampling)
#&gt;                0.107529 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05946 seconds (Warm-up)
#&gt;                0.049086 seconds (Sampling)
#&gt;                0.108546 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051708 seconds (Warm-up)
#&gt;                0.051374 seconds (Sampling)
#&gt;                0.103082 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.06152 seconds (Warm-up)
#&gt;                0.052618 seconds (Sampling)
#&gt;                0.114138 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050875 seconds (Warm-up)
#&gt;                0.056528 seconds (Sampling)
#&gt;                0.107403 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054391 seconds (Warm-up)
#&gt;                0.052019 seconds (Sampling)
#&gt;                0.10641 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.057439 seconds (Warm-up)
#&gt;                0.050747 seconds (Sampling)
#&gt;                0.108186 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.057547 seconds (Warm-up)
#&gt;                0.050657 seconds (Sampling)
#&gt;                0.108204 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051891 seconds (Warm-up)
#&gt;                0.051754 seconds (Sampling)
#&gt;                0.103645 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05206 seconds (Warm-up)
#&gt;                0.050567 seconds (Sampling)
#&gt;                0.102627 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049767 seconds (Warm-up)
#&gt;                0.051842 seconds (Sampling)
#&gt;                0.101609 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050728 seconds (Warm-up)
#&gt;                0.047442 seconds (Sampling)
#&gt;                0.09817 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05136 seconds (Warm-up)
#&gt;                0.054952 seconds (Sampling)
#&gt;                0.106312 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.055755 seconds (Warm-up)
#&gt;                0.047256 seconds (Sampling)
#&gt;                0.103011 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054792 seconds (Warm-up)
#&gt;                0.045628 seconds (Sampling)
#&gt;                0.10042 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046675 seconds (Warm-up)
#&gt;                0.047364 seconds (Sampling)
#&gt;                0.094039 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048515 seconds (Warm-up)
#&gt;                0.046203 seconds (Sampling)
#&gt;                0.094718 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.044011 seconds (Warm-up)
#&gt;                0.045633 seconds (Sampling)
#&gt;                0.089644 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047905 seconds (Warm-up)
#&gt;                0.044123 seconds (Sampling)
#&gt;                0.092028 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.04777 seconds (Warm-up)
#&gt;                0.043808 seconds (Sampling)
#&gt;                0.091578 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050696 seconds (Warm-up)
#&gt;                0.047875 seconds (Sampling)
#&gt;                0.098571 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050001 seconds (Warm-up)
#&gt;                0.045359 seconds (Sampling)
#&gt;                0.09536 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050345 seconds (Warm-up)
#&gt;                0.049402 seconds (Sampling)
#&gt;                0.099747 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050114 seconds (Warm-up)
#&gt;                0.045274 seconds (Sampling)
#&gt;                0.095388 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051079 seconds (Warm-up)
#&gt;                0.04527 seconds (Sampling)
#&gt;                0.096349 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05664 seconds (Warm-up)
#&gt;                0.044859 seconds (Sampling)
#&gt;                0.101499 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051201 seconds (Warm-up)
#&gt;                0.045852 seconds (Sampling)
#&gt;                0.097053 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.05073 seconds (Warm-up)
#&gt;                0.04535 seconds (Sampling)
#&gt;                0.09608 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050923 seconds (Warm-up)
#&gt;                0.044845 seconds (Sampling)
#&gt;                0.095768 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052586 seconds (Warm-up)
#&gt;                0.046223 seconds (Sampling)
#&gt;                0.098809 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.04853 seconds (Warm-up)
#&gt;                0.047372 seconds (Sampling)
#&gt;                0.095902 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.048885 seconds (Warm-up)
#&gt;                0.042792 seconds (Sampling)
#&gt;                0.091677 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048738 seconds (Warm-up)
#&gt;                0.047786 seconds (Sampling)
#&gt;                0.096524 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053072 seconds (Warm-up)
#&gt;                0.046211 seconds (Sampling)
#&gt;                0.099283 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050201 seconds (Warm-up)
#&gt;                0.045273 seconds (Sampling)
#&gt;                0.095474 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078586 seconds (Warm-up)
#&gt;                0.085799 seconds (Sampling)
#&gt;                0.164385 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073823 seconds (Warm-up)
#&gt;                0.063829 seconds (Sampling)
#&gt;                0.137652 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082399 seconds (Warm-up)
#&gt;                0.074315 seconds (Sampling)
#&gt;                0.156714 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.08288 seconds (Warm-up)
#&gt;                0.102005 seconds (Sampling)
#&gt;                0.184885 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.097034 seconds (Warm-up)
#&gt;                0.085547 seconds (Sampling)
#&gt;                0.182581 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.088996 seconds (Warm-up)
#&gt;                0.068338 seconds (Sampling)
#&gt;                0.157334 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078709 seconds (Warm-up)
#&gt;                0.086733 seconds (Sampling)
#&gt;                0.165442 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.094796 seconds (Warm-up)
#&gt;                0.084527 seconds (Sampling)
#&gt;                0.179323 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.101918 seconds (Warm-up)
#&gt;                0.083374 seconds (Sampling)
#&gt;                0.185292 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.083179 seconds (Warm-up)
#&gt;                0.077627 seconds (Sampling)
#&gt;                0.160806 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084343 seconds (Warm-up)
#&gt;                0.08217 seconds (Sampling)
#&gt;                0.166513 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076593 seconds (Warm-up)
#&gt;                0.088036 seconds (Sampling)
#&gt;                0.164629 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.081546 seconds (Warm-up)
#&gt;                0.079528 seconds (Sampling)
#&gt;                0.161074 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075459 seconds (Warm-up)
#&gt;                0.078685 seconds (Sampling)
#&gt;                0.154144 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079948 seconds (Warm-up)
#&gt;                0.073533 seconds (Sampling)
#&gt;                0.153481 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07745 seconds (Warm-up)
#&gt;                0.07957 seconds (Sampling)
#&gt;                0.15702 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.072664 seconds (Warm-up)
#&gt;                0.073844 seconds (Sampling)
#&gt;                0.146508 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.088159 seconds (Warm-up)
#&gt;                0.079918 seconds (Sampling)
#&gt;                0.168077 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080885 seconds (Warm-up)
#&gt;                0.081002 seconds (Sampling)
#&gt;                0.161887 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076482 seconds (Warm-up)
#&gt;                0.081713 seconds (Sampling)
#&gt;                0.158195 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.072812 seconds (Warm-up)
#&gt;                0.07895 seconds (Sampling)
#&gt;                0.151762 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.095303 seconds (Warm-up)
#&gt;                0.09322 seconds (Sampling)
#&gt;                0.188523 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.091956 seconds (Warm-up)
#&gt;                0.096414 seconds (Sampling)
#&gt;                0.18837 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.090138 seconds (Warm-up)
#&gt;                0.08907 seconds (Sampling)
#&gt;                0.179208 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.087332 seconds (Warm-up)
#&gt;                0.085864 seconds (Sampling)
#&gt;                0.173196 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085822 seconds (Warm-up)
#&gt;                0.083215 seconds (Sampling)
#&gt;                0.169037 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085686 seconds (Warm-up)
#&gt;                0.077404 seconds (Sampling)
#&gt;                0.16309 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079927 seconds (Warm-up)
#&gt;                0.083469 seconds (Sampling)
#&gt;                0.163396 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.089048 seconds (Warm-up)
#&gt;                0.083345 seconds (Sampling)
#&gt;                0.172393 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082905 seconds (Warm-up)
#&gt;                0.076737 seconds (Sampling)
#&gt;                0.159642 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07678 seconds (Warm-up)
#&gt;                0.07394 seconds (Sampling)
#&gt;                0.15072 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.087423 seconds (Warm-up)
#&gt;                0.079292 seconds (Sampling)
#&gt;                0.166715 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.085536 seconds (Warm-up)
#&gt;                0.075309 seconds (Sampling)
#&gt;                0.160845 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084787 seconds (Warm-up)
#&gt;                0.075343 seconds (Sampling)
#&gt;                0.16013 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072694 seconds (Warm-up)
#&gt;                0.078656 seconds (Sampling)
#&gt;                0.15135 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075291 seconds (Warm-up)
#&gt;                0.074733 seconds (Sampling)
#&gt;                0.150024 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.07542 seconds (Warm-up)
#&gt;                0.079927 seconds (Sampling)
#&gt;                0.155347 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078877 seconds (Warm-up)
#&gt;                0.070772 seconds (Sampling)
#&gt;                0.149649 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074315 seconds (Warm-up)
#&gt;                0.078338 seconds (Sampling)
#&gt;                0.152653 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.066999 seconds (Warm-up)
#&gt;                0.07772 seconds (Sampling)
#&gt;                0.144719 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
