<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot method for stanreg objects — plot.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../Articles/index.html">Articles</a>
</li>
<li>
  <a href="https://htmlpreview.github.io/?https://github.com/stan-dev/rstanarm/blob/master/dev-notes/rstanarm_dev_notes.html">Develop</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot method for stanreg objects</h1>
    </div>

    
    <p>The <code>plot</code> method for <a href='stanreg-objects.html'>stanreg-objects</a> provides a convenient 
interface to the <a href='http://www.rdocumentation.org/packages/bayesplot/topics/MCMC-overview'>MCMC</a> module in the <span class="pkg">bayesplot</span> 
package for plotting MCMC draws and diagnostics. It is also straightforward 
to use the functions from the <span class="pkg">bayesplot</span> package directly rather than 
via the <code>plot</code> method. Examples of both methods of plotting are given
below.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>plot</span>(<span class='no'>x</span>, <span class='kw'>plotfun</span> <span class='kw'>=</span> <span class='st'>"intervals"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>plotfun</th>
      <td><p>A character string naming the <span class="pkg">bayesplot</span> 
<a href='http://www.rdocumentation.org/packages/bayesplot/topics/MCMC-overview'>MCMC</a> function to use. The default is to call
<code><a href='http://www.rdocumentation.org/packages/bayesplot/topics/MCMC-intervals'>mcmc_intervals</a></code>. <code>plotfun</code> can be specified
either as the full name of a <span class="pkg">bayesplot</span> plotting function (e.g.
<code>"mcmc_hist"</code>) or can be abbreviated to the part of the name following
the <code>"mcmc_"</code> prefix (e.g. <code>"hist"</code>). To get the names of all
available MCMC functions see <code><a href='http://www.rdocumentation.org/packages/bayesplot/topics/available_ppc'>available_mcmc</a></code>.</p></td>
    </tr>
    <tr>
      <th>pars</th>
      <td><p>An optional character vector of parameter names.</p></td>
    </tr>
    <tr>
      <th>regex_pars</th>
      <td><p>An optional character vector of regular 
expressions to use for parameter selection. <code>regex_pars</code> can be used
in place of <code>pars</code> or in addition to <code>pars</code>. Currently, all
functions that accept a <code>regex_pars</code> argument ignore it for models fit
using optimization.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to pass to <code>plotfun</code> for customizing the
plot. These are described on the help pages for the individual plotting 
functions. For example, the arguments accepted for the default
<code>plotfun="intervals"</code> can be found at
<code><a href='http://www.rdocumentation.org/packages/bayesplot/topics/MCMC-intervals'>mcmc_intervals</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either a ggplot object that can be further customized using the
  <span class="pkg">ggplot2</span> package, or an object created from multiple ggplot objects
  (e.g. a gtable object created by <code><a href='http://www.rdocumentation.org/packages/gridExtra/topics/arrangeGrob'>arrangeGrob</a></code>).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The vignettes in the <span class="pkg">bayesplot</span> package for many examples.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/bayesplot/topics/MCMC-overview'>MCMC-overview</a></code> (<span class="pkg">bayesplot</span>) for links to
  the documentation for all the available plotting functions.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/bayesplot/topics/bayesplot-colors'>color_scheme_set</a></code> (<span class="pkg">bayesplot</span>) to change
  the color scheme used for plotting.</p></li>
<li><p><code><a href='pp_check.stanreg.html'>pp_check</a></code> for graphical posterior predictive checks.</p></li>
<li><p><code><a href='stan_gamm4.html'>plot_nonlinear</a></code> for models with nonlinear smooth 
  functions fit using <code><a href='stan_gamm4.html'>stan_gamm4</a></code>.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Use rstanarm example model</span>
<span class='kw'>if</span> (!<span class='fu'>exists</span>(<span class='st'>"example_model"</span>)) <span class='fu'>example</span>(<span class='no'>example_model</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: no help found for ‘example_model’</span></div><div class='input'><span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='no'>example_model</span></div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'example_model' not found</span></div><div class='input'>
<span class='co'>#####################################</span>
<span class='co'>### Intervals and point estimates ###</span>
<span class='co'>#####################################</span>
<span class='fu'>plot</span>(<span class='no'>fit</span>) <span class='co'># same as plot(fit, "intervals"), plot(fit, "mcmc_intervals")</span></div><div class='output co'>#&gt; <span class='error'>Error in plot(fit): object 'fit' not found</span></div><div class='input'>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"size"</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>,
          <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>prob_outer</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, pars = "size", regex_pars = "period", prob = 0.5, prob_outer = 0.9): object 'fit' not found</span></div><div class='input'><span class='no'>p</span> + <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>ggtitle</span>(<span class='st'>"Posterior medians \n with 50% and 90% intervals"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'p' not found</span></div><div class='input'>
<span class='co'># Shaded areas under densities</span>
<span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>color_scheme_set</span>(<span class='st'>"brightblue"</span>)
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"areas"</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>,
     <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>prob_outer</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "areas", regex_pars = "period", prob = 0.5, prob_outer = 0.9): object 'fit' not found</span></div><div class='input'>
<span class='co'># Make the same plot by extracting posterior draws and calling</span>
<span class='co'># bayesplot::mcmc_areas directly</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>as.array</span>(<span class='no'>fit</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in as.array(fit, regex_pars = "period"): object 'fit' not found</span></div><div class='input'><span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>mcmc_areas</span>(<span class='no'>x</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>prob_outer</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; <span class='error'>Error in is.data.frame(x): object 'x' not found</span></div><div class='input'>

<span class='co'>##################################</span>
<span class='co'>### Histograms &amp; density plots ###</span>
<span class='co'>##################################</span>
<span class='no'>plot_title</span> <span class='kw'>&lt;-</span> <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>ggtitle</span>(<span class='st'>"Posterior Distributions"</span>)
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"hist"</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>) + <span class='no'>plot_title</span></div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "hist", regex_pars = "period"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"dens_overlay"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"(Intercept)"</span>,
     <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>) + <span class='no'>plot_title</span></div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "dens_overlay", pars = "(Intercept)", regex_pars = "period"): object 'fit' not found</span></div><div class='input'>
<span class='co'>####################</span>
<span class='co'>### Scatterplots ###</span>
<span class='co'>####################</span>
<span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>color_scheme_set</span>(<span class='st'>"teal"</span>)
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"scatter"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"period"</span>, <span class='fl'>2</span>:<span class='fl'>3</span>))</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "scatter", pars = paste0("period", 2:3)): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"scatter"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"(Intercept)"</span>, <span class='st'>"size"</span>),
     <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.5</span>) +
     <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>stat_ellipse</span>(<span class='kw'>level</span> <span class='kw'>=</span> <span class='fl'>0.9</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "scatter", pars = c("(Intercept)", "size"), size = 3,     alpha = 0.5): object 'fit' not found</span></div><div class='input'>

<span class='co'>####################################################</span>
<span class='co'>### Rhat, effective sample size, autocorrelation ###</span>
<span class='co'>####################################################</span>
<span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>color_scheme_set</span>(<span class='st'>"red"</span>)

<span class='co'># rhat</span>
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"rhat"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "rhat"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"rhat_hist"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "rhat_hist"): object 'fit' not found</span></div><div class='input'>
<span class='co'># ratio of effective sample size to total posterior sample size</span>
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"neff"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "neff"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"neff_hist"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "neff_hist"): object 'fit' not found</span></div><div class='input'>
<span class='co'># autocorrelation by chain</span>
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"acf"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"(Intercept)"</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "acf", pars = "(Intercept)", regex_pars = "period"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"acf_bar"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"(Intercept)"</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"period"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "acf_bar", pars = "(Intercept)", regex_pars = "period"): object 'fit' not found</span></div><div class='input'>

<span class='co'>##################</span>
<span class='co'>### Traceplots ###</span>
<span class='co'>##################</span>
<span class='co'># NOTE: rstanarm doesn't store the warmup draws (to save space because they</span>
<span class='co'># are not so essential for diagnosing the particular models implemented in</span>
<span class='co'># rstanarm) so the iterations in the traceplot are post-warmup iterations</span>

<span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>color_scheme_set</span>(<span class='st'>"pink"</span>)
(<span class='no'>trace</span> <span class='kw'>&lt;-</span> <span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"trace"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='st'>"(Intercept)"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "trace", pars = "(Intercept)"): object 'fit' not found</span></div><div class='input'>
<span class='co'># change traceplot colors to ggplot defaults or custom values</span>
<span class='no'>trace</span> + <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>scale_color_discrete</span>()</div><div class='output co'>#&gt; <span class='error'>Error in trace + ggplot2::scale_color_discrete(): non-numeric argument to binary operator</span></div><div class='input'><span class='no'>trace</span> + <span class='kw'>ggplot2</span><span class='kw'>::</span><span class='fu'>scale_color_manual</span>(<span class='kw'>values</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"maroon"</span>, <span class='st'>"skyblue2"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in trace + ggplot2::scale_color_manual(values = c("maroon", "skyblue2")): non-numeric argument to binary operator</span></div><div class='input'>
<span class='co'># changing facet layout </span>
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='st'>"trace"</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"(Intercept)"</span>, <span class='st'>"period2"</span>),
     <span class='kw'>facet_args</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, "trace", pars = c("(Intercept)", "period2"), facet_args = list(nrow = 2)): object 'fit' not found</span></div><div class='input'><span class='co'># same plot by calling bayesplot::mcmc_trace directly</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>as.array</span>(<span class='no'>fit</span>, <span class='kw'>pars</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"(Intercept)"</span>, <span class='st'>"period2"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in as.array(fit, pars = c("(Intercept)", "period2")): object 'fit' not found</span></div><div class='input'><span class='kw'>bayesplot</span><span class='kw'>::</span><span class='fu'>mcmc_trace</span>(<span class='no'>x</span>, <span class='kw'>facet_args</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; <span class='error'>Error in is.data.frame(x): object 'x' not found</span></div><div class='input'>

<span class='co'>############</span>
<span class='co'>### More ###</span>
<span class='co'>############</span>

<span class='co'># regex_pars examples</span>
<span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"herd:1\\]"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, regex_pars = "herd:1\\]"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"herd:[279]"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, regex_pars = "herd:[279]"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='st'>"herd:[279]|period2"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, regex_pars = "herd:[279]|period2"): object 'fit' not found</span></div><div class='input'><span class='fu'>plot</span>(<span class='no'>fit</span>, <span class='kw'>regex_pars</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"herd:[279]"</span>, <span class='st'>"period2"</span>))</div><div class='output co'>#&gt; <span class='error'>Error in plot(fit, regex_pars = c("herd:[279]", "period2")): object 'fit' not found</span></div><div class='input'>

<span class='co'># For graphical posterior predictive checks see</span>
<span class='co'># help("pp_check.stanreg")</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
