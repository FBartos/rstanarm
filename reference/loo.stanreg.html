<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../dev-notes/index.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.05341 seconds (Warm-up)
#&gt;                0.044196 seconds (Sampling)
#&gt;                0.097606 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.050597 seconds (Warm-up)
#&gt;                0.047775 seconds (Sampling)
#&gt;                0.098372 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.046434 seconds (Warm-up)
#&gt;                0.049462 seconds (Sampling)
#&gt;                0.095896 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.050892 seconds (Warm-up)
#&gt;                0.047844 seconds (Sampling)
#&gt;                0.098736 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.085076 seconds (Warm-up)
#&gt;                0.087226 seconds (Sampling)
#&gt;                0.172302 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.096426 seconds (Warm-up)
#&gt;                0.079072 seconds (Sampling)
#&gt;                0.175498 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.083078 seconds (Warm-up)
#&gt;                0.079696 seconds (Sampling)
#&gt;                0.162774 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.074944 seconds (Warm-up)
#&gt;                0.08006 seconds (Sampling)
#&gt;                0.155004 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.417508 seconds (Warm-up)
#&gt;                0.361646 seconds (Sampling)
#&gt;                0.779154 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.344147 seconds (Warm-up)
#&gt;                0.294174 seconds (Sampling)
#&gt;                0.638321 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.350499 seconds (Warm-up)
#&gt;                0.321551 seconds (Sampling)
#&gt;                0.67205 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.353883 seconds (Warm-up)
#&gt;                0.360304 seconds (Sampling)
#&gt;                0.714187 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.382592 seconds (Warm-up)
#&gt;                0.593238 seconds (Sampling)
#&gt;                0.97583 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.395378 seconds (Warm-up)
#&gt;                0.323765 seconds (Sampling)
#&gt;                0.719143 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.377141 seconds (Warm-up)
#&gt;                0.376721 seconds (Sampling)
#&gt;                0.753862 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.357927 seconds (Warm-up)
#&gt;                0.293998 seconds (Sampling)
#&gt;                0.651925 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.339388 seconds (Warm-up)
#&gt;                0.329529 seconds (Sampling)
#&gt;                0.668917 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.379847 seconds (Warm-up)
#&gt;                0.436271 seconds (Sampling)
#&gt;                0.816118 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.379791 seconds (Warm-up)
#&gt;                0.363413 seconds (Sampling)
#&gt;                0.743204 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.347664 seconds (Warm-up)
#&gt;                0.432235 seconds (Sampling)
#&gt;                0.779899 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.418447 seconds (Warm-up)
#&gt;                0.355254 seconds (Sampling)
#&gt;                0.773701 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.361046 seconds (Warm-up)
#&gt;                0.359654 seconds (Sampling)
#&gt;                0.7207 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.354742 seconds (Warm-up)
#&gt;                0.391965 seconds (Sampling)
#&gt;                0.746707 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.360451 seconds (Warm-up)
#&gt;                0.413355 seconds (Sampling)
#&gt;                0.773806 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.366535 seconds (Warm-up)
#&gt;                0.415509 seconds (Sampling)
#&gt;                0.782044 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.316965 seconds (Warm-up)
#&gt;                0.305602 seconds (Sampling)
#&gt;                0.622567 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.324879 seconds (Warm-up)
#&gt;                0.386177 seconds (Sampling)
#&gt;                0.711056 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.35163 seconds (Warm-up)
#&gt;                0.305303 seconds (Sampling)
#&gt;                0.656933 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.044405 seconds (Warm-up)
#&gt;                0.045103 seconds (Sampling)
#&gt;                0.089508 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050029 seconds (Warm-up)
#&gt;                0.041926 seconds (Sampling)
#&gt;                0.091955 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045706 seconds (Warm-up)
#&gt;                0.045207 seconds (Sampling)
#&gt;                0.090913 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045012 seconds (Warm-up)
#&gt;                0.041937 seconds (Sampling)
#&gt;                0.086949 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051839 seconds (Warm-up)
#&gt;                0.044067 seconds (Sampling)
#&gt;                0.095906 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053839 seconds (Warm-up)
#&gt;                0.043102 seconds (Sampling)
#&gt;                0.096941 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047545 seconds (Warm-up)
#&gt;                0.043097 seconds (Sampling)
#&gt;                0.090642 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047456 seconds (Warm-up)
#&gt;                0.045361 seconds (Sampling)
#&gt;                0.092817 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.049272 seconds (Warm-up)
#&gt;                0.048208 seconds (Sampling)
#&gt;                0.09748 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.043599 seconds (Warm-up)
#&gt;                0.044353 seconds (Sampling)
#&gt;                0.087952 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05033 seconds (Warm-up)
#&gt;                0.041987 seconds (Sampling)
#&gt;                0.092317 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05106 seconds (Warm-up)
#&gt;                0.044231 seconds (Sampling)
#&gt;                0.095291 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.049636 seconds (Warm-up)
#&gt;                0.046257 seconds (Sampling)
#&gt;                0.095893 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050537 seconds (Warm-up)
#&gt;                0.039995 seconds (Sampling)
#&gt;                0.090532 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046691 seconds (Warm-up)
#&gt;                0.045091 seconds (Sampling)
#&gt;                0.091782 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047079 seconds (Warm-up)
#&gt;                0.046945 seconds (Sampling)
#&gt;                0.094024 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046814 seconds (Warm-up)
#&gt;                0.047346 seconds (Sampling)
#&gt;                0.09416 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045822 seconds (Warm-up)
#&gt;                0.047364 seconds (Sampling)
#&gt;                0.093186 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047437 seconds (Warm-up)
#&gt;                0.044747 seconds (Sampling)
#&gt;                0.092184 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052399 seconds (Warm-up)
#&gt;                0.044818 seconds (Sampling)
#&gt;                0.097217 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.0472 seconds (Warm-up)
#&gt;                0.041828 seconds (Sampling)
#&gt;                0.089028 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046666 seconds (Warm-up)
#&gt;                0.045169 seconds (Sampling)
#&gt;                0.091835 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.043211 seconds (Warm-up)
#&gt;                0.043594 seconds (Sampling)
#&gt;                0.086805 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046644 seconds (Warm-up)
#&gt;                0.045123 seconds (Sampling)
#&gt;                0.091767 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051684 seconds (Warm-up)
#&gt;                0.047361 seconds (Sampling)
#&gt;                0.099045 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048205 seconds (Warm-up)
#&gt;                0.041567 seconds (Sampling)
#&gt;                0.089772 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049358 seconds (Warm-up)
#&gt;                0.043652 seconds (Sampling)
#&gt;                0.09301 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050605 seconds (Warm-up)
#&gt;                0.047153 seconds (Sampling)
#&gt;                0.097758 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.049597 seconds (Warm-up)
#&gt;                0.045015 seconds (Sampling)
#&gt;                0.094612 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.04614 seconds (Warm-up)
#&gt;                0.042546 seconds (Sampling)
#&gt;                0.088686 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050254 seconds (Warm-up)
#&gt;                0.041928 seconds (Sampling)
#&gt;                0.092182 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046311 seconds (Warm-up)
#&gt;                0.042347 seconds (Sampling)
#&gt;                0.088658 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.04832 seconds (Warm-up)
#&gt;                0.04364 seconds (Sampling)
#&gt;                0.09196 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047999 seconds (Warm-up)
#&gt;                0.04198 seconds (Sampling)
#&gt;                0.089979 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047694 seconds (Warm-up)
#&gt;                0.047715 seconds (Sampling)
#&gt;                0.095409 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047804 seconds (Warm-up)
#&gt;                0.0453 seconds (Sampling)
#&gt;                0.093104 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.047408 seconds (Warm-up)
#&gt;                0.043812 seconds (Sampling)
#&gt;                0.09122 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.044735 seconds (Warm-up)
#&gt;                0.043839 seconds (Sampling)
#&gt;                0.088574 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.057661 seconds (Warm-up)
#&gt;                0.044563 seconds (Sampling)
#&gt;                0.102224 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048072 seconds (Warm-up)
#&gt;                0.041268 seconds (Sampling)
#&gt;                0.08934 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.074226 seconds (Warm-up)
#&gt;                0.078403 seconds (Sampling)
#&gt;                0.152629 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070274 seconds (Warm-up)
#&gt;                0.0632 seconds (Sampling)
#&gt;                0.133474 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071744 seconds (Warm-up)
#&gt;                0.066873 seconds (Sampling)
#&gt;                0.138617 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07158 seconds (Warm-up)
#&gt;                0.070714 seconds (Sampling)
#&gt;                0.142294 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078345 seconds (Warm-up)
#&gt;                0.069534 seconds (Sampling)
#&gt;                0.147879 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078229 seconds (Warm-up)
#&gt;                0.063935 seconds (Sampling)
#&gt;                0.142164 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.067294 seconds (Warm-up)
#&gt;                0.069866 seconds (Sampling)
#&gt;                0.13716 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076435 seconds (Warm-up)
#&gt;                0.068056 seconds (Sampling)
#&gt;                0.144491 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075983 seconds (Warm-up)
#&gt;                0.070205 seconds (Sampling)
#&gt;                0.146188 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077174 seconds (Warm-up)
#&gt;                0.066524 seconds (Sampling)
#&gt;                0.143698 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072247 seconds (Warm-up)
#&gt;                0.07458 seconds (Sampling)
#&gt;                0.146827 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.06946 seconds (Warm-up)
#&gt;                0.07656 seconds (Sampling)
#&gt;                0.14602 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.074854 seconds (Warm-up)
#&gt;                0.073395 seconds (Sampling)
#&gt;                0.148249 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073754 seconds (Warm-up)
#&gt;                0.071478 seconds (Sampling)
#&gt;                0.145232 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076674 seconds (Warm-up)
#&gt;                0.067858 seconds (Sampling)
#&gt;                0.144532 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075817 seconds (Warm-up)
#&gt;                0.069631 seconds (Sampling)
#&gt;                0.145448 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.07111 seconds (Warm-up)
#&gt;                0.068521 seconds (Sampling)
#&gt;                0.139631 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.08697 seconds (Warm-up)
#&gt;                0.070969 seconds (Sampling)
#&gt;                0.157939 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074398 seconds (Warm-up)
#&gt;                0.068885 seconds (Sampling)
#&gt;                0.143283 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.069474 seconds (Warm-up)
#&gt;                0.072393 seconds (Sampling)
#&gt;                0.141867 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.068564 seconds (Warm-up)
#&gt;                0.064801 seconds (Sampling)
#&gt;                0.133365 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073724 seconds (Warm-up)
#&gt;                0.077933 seconds (Sampling)
#&gt;                0.151657 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079395 seconds (Warm-up)
#&gt;                0.089818 seconds (Sampling)
#&gt;                0.169213 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07223 seconds (Warm-up)
#&gt;                0.07377 seconds (Sampling)
#&gt;                0.146 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075837 seconds (Warm-up)
#&gt;                0.078889 seconds (Sampling)
#&gt;                0.154726 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080662 seconds (Warm-up)
#&gt;                0.077947 seconds (Sampling)
#&gt;                0.158609 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082415 seconds (Warm-up)
#&gt;                0.072368 seconds (Sampling)
#&gt;                0.154783 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070491 seconds (Warm-up)
#&gt;                0.074955 seconds (Sampling)
#&gt;                0.145446 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.077306 seconds (Warm-up)
#&gt;                0.073701 seconds (Sampling)
#&gt;                0.151007 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080208 seconds (Warm-up)
#&gt;                0.068532 seconds (Sampling)
#&gt;                0.14874 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07865 seconds (Warm-up)
#&gt;                0.072024 seconds (Sampling)
#&gt;                0.150674 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079977 seconds (Warm-up)
#&gt;                0.074427 seconds (Sampling)
#&gt;                0.154404 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.077923 seconds (Warm-up)
#&gt;                0.075882 seconds (Sampling)
#&gt;                0.153805 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079379 seconds (Warm-up)
#&gt;                0.073242 seconds (Sampling)
#&gt;                0.152621 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070396 seconds (Warm-up)
#&gt;                0.079059 seconds (Sampling)
#&gt;                0.149455 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074048 seconds (Warm-up)
#&gt;                0.068382 seconds (Sampling)
#&gt;                0.14243 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075938 seconds (Warm-up)
#&gt;                0.08172 seconds (Sampling)
#&gt;                0.157658 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075451 seconds (Warm-up)
#&gt;                0.06962 seconds (Sampling)
#&gt;                0.145071 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073139 seconds (Warm-up)
#&gt;                0.078863 seconds (Sampling)
#&gt;                0.152002 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.068907 seconds (Warm-up)
#&gt;                0.074912 seconds (Sampling)
#&gt;                0.143819 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
