<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../dev-notes/index.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.072047 seconds (Warm-up)
#&gt;                0.056161 seconds (Sampling)
#&gt;                0.128208 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.063598 seconds (Warm-up)
#&gt;                0.054493 seconds (Sampling)
#&gt;                0.118091 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.055977 seconds (Warm-up)
#&gt;                0.058788 seconds (Sampling)
#&gt;                0.114765 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.051007 seconds (Warm-up)
#&gt;                0.047984 seconds (Sampling)
#&gt;                0.098991 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.113589 seconds (Warm-up)
#&gt;                0.147125 seconds (Sampling)
#&gt;                0.260714 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.094956 seconds (Warm-up)
#&gt;                0.117737 seconds (Sampling)
#&gt;                0.212693 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.096524 seconds (Warm-up)
#&gt;                0.102829 seconds (Sampling)
#&gt;                0.199353 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.10482 seconds (Warm-up)
#&gt;                0.095515 seconds (Sampling)
#&gt;                0.200335 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.419461 seconds (Warm-up)
#&gt;                0.365204 seconds (Sampling)
#&gt;                0.784665 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.349608 seconds (Warm-up)
#&gt;                0.302747 seconds (Sampling)
#&gt;                0.652355 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.339076 seconds (Warm-up)
#&gt;                0.320906 seconds (Sampling)
#&gt;                0.659982 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.342972 seconds (Warm-up)
#&gt;                0.297247 seconds (Sampling)
#&gt;                0.640219 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.376392 seconds (Warm-up)
#&gt;                0.488526 seconds (Sampling)
#&gt;                0.864918 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.40193 seconds (Warm-up)
#&gt;                0.338513 seconds (Sampling)
#&gt;                0.740443 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.388293 seconds (Warm-up)
#&gt;                0.360236 seconds (Sampling)
#&gt;                0.748529 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.351763 seconds (Warm-up)
#&gt;                0.286856 seconds (Sampling)
#&gt;                0.638619 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.35517 seconds (Warm-up)
#&gt;                0.342583 seconds (Sampling)
#&gt;                0.697753 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.374758 seconds (Warm-up)
#&gt;                0.437969 seconds (Sampling)
#&gt;                0.812727 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.369501 seconds (Warm-up)
#&gt;                0.409617 seconds (Sampling)
#&gt;                0.779118 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.372429 seconds (Warm-up)
#&gt;                0.469832 seconds (Sampling)
#&gt;                0.842261 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.464657 seconds (Warm-up)
#&gt;                0.40058 seconds (Sampling)
#&gt;                0.865237 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.366982 seconds (Warm-up)
#&gt;                0.381022 seconds (Sampling)
#&gt;                0.748004 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.398832 seconds (Warm-up)
#&gt;                0.483576 seconds (Sampling)
#&gt;                0.882408 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.391455 seconds (Warm-up)
#&gt;                0.46112 seconds (Sampling)
#&gt;                0.852575 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.419889 seconds (Warm-up)
#&gt;                0.465012 seconds (Sampling)
#&gt;                0.884901 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.416938 seconds (Warm-up)
#&gt;                0.343852 seconds (Sampling)
#&gt;                0.76079 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.342473 seconds (Warm-up)
#&gt;                0.453554 seconds (Sampling)
#&gt;                0.796027 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.381704 seconds (Warm-up)
#&gt;                0.338432 seconds (Sampling)
#&gt;                0.720136 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046212 seconds (Warm-up)
#&gt;                0.044251 seconds (Sampling)
#&gt;                0.090463 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072276 seconds (Warm-up)
#&gt;                0.069246 seconds (Sampling)
#&gt;                0.141522 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074563 seconds (Warm-up)
#&gt;                0.072922 seconds (Sampling)
#&gt;                0.147485 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07485 seconds (Warm-up)
#&gt;                0.056167 seconds (Sampling)
#&gt;                0.131017 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.056028 seconds (Warm-up)
#&gt;                0.048446 seconds (Sampling)
#&gt;                0.104474 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.06269 seconds (Warm-up)
#&gt;                0.052054 seconds (Sampling)
#&gt;                0.114744 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052137 seconds (Warm-up)
#&gt;                0.047737 seconds (Sampling)
#&gt;                0.099874 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.058244 seconds (Warm-up)
#&gt;                0.057507 seconds (Sampling)
#&gt;                0.115751 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.059715 seconds (Warm-up)
#&gt;                0.055283 seconds (Sampling)
#&gt;                0.114998 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050583 seconds (Warm-up)
#&gt;                0.055796 seconds (Sampling)
#&gt;                0.106379 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.058384 seconds (Warm-up)
#&gt;                0.051716 seconds (Sampling)
#&gt;                0.1101 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051757 seconds (Warm-up)
#&gt;                0.048184 seconds (Sampling)
#&gt;                0.099941 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.063027 seconds (Warm-up)
#&gt;                0.063258 seconds (Sampling)
#&gt;                0.126285 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051328 seconds (Warm-up)
#&gt;                0.042282 seconds (Sampling)
#&gt;                0.09361 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048138 seconds (Warm-up)
#&gt;                0.044046 seconds (Sampling)
#&gt;                0.092184 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046844 seconds (Warm-up)
#&gt;                0.044974 seconds (Sampling)
#&gt;                0.091818 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051995 seconds (Warm-up)
#&gt;                0.045795 seconds (Sampling)
#&gt;                0.09779 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047455 seconds (Warm-up)
#&gt;                0.04689 seconds (Sampling)
#&gt;                0.094345 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053274 seconds (Warm-up)
#&gt;                0.054529 seconds (Sampling)
#&gt;                0.107803 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053217 seconds (Warm-up)
#&gt;                0.050001 seconds (Sampling)
#&gt;                0.103218 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050616 seconds (Warm-up)
#&gt;                0.045802 seconds (Sampling)
#&gt;                0.096418 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.0493 seconds (Warm-up)
#&gt;                0.046871 seconds (Sampling)
#&gt;                0.096171 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045358 seconds (Warm-up)
#&gt;                0.062493 seconds (Sampling)
#&gt;                0.107851 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049539 seconds (Warm-up)
#&gt;                0.046125 seconds (Sampling)
#&gt;                0.095664 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.048754 seconds (Warm-up)
#&gt;                0.046449 seconds (Sampling)
#&gt;                0.095203 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049188 seconds (Warm-up)
#&gt;                0.057909 seconds (Sampling)
#&gt;                0.107097 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.061051 seconds (Warm-up)
#&gt;                0.065021 seconds (Sampling)
#&gt;                0.126072 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051823 seconds (Warm-up)
#&gt;                0.053041 seconds (Sampling)
#&gt;                0.104864 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.060349 seconds (Warm-up)
#&gt;                0.046685 seconds (Sampling)
#&gt;                0.107034 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048505 seconds (Warm-up)
#&gt;                0.047559 seconds (Sampling)
#&gt;                0.096064 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.058785 seconds (Warm-up)
#&gt;                0.075129 seconds (Sampling)
#&gt;                0.133914 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.061213 seconds (Warm-up)
#&gt;                0.052564 seconds (Sampling)
#&gt;                0.113777 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050987 seconds (Warm-up)
#&gt;                0.046685 seconds (Sampling)
#&gt;                0.097672 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.0531 seconds (Warm-up)
#&gt;                0.047553 seconds (Sampling)
#&gt;                0.100653 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052335 seconds (Warm-up)
#&gt;                0.053092 seconds (Sampling)
#&gt;                0.105427 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050982 seconds (Warm-up)
#&gt;                0.05319 seconds (Sampling)
#&gt;                0.104172 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.052764 seconds (Warm-up)
#&gt;                0.045533 seconds (Sampling)
#&gt;                0.098297 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05418 seconds (Warm-up)
#&gt;                0.062859 seconds (Sampling)
#&gt;                0.117039 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.061558 seconds (Warm-up)
#&gt;                0.049104 seconds (Sampling)
#&gt;                0.110662 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052764 seconds (Warm-up)
#&gt;                0.048675 seconds (Sampling)
#&gt;                0.101439 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078964 seconds (Warm-up)
#&gt;                0.092167 seconds (Sampling)
#&gt;                0.171131 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073462 seconds (Warm-up)
#&gt;                0.076163 seconds (Sampling)
#&gt;                0.149625 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076706 seconds (Warm-up)
#&gt;                0.070006 seconds (Sampling)
#&gt;                0.146712 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.089933 seconds (Warm-up)
#&gt;                0.081647 seconds (Sampling)
#&gt;                0.17158 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.087593 seconds (Warm-up)
#&gt;                0.094451 seconds (Sampling)
#&gt;                0.182044 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.102668 seconds (Warm-up)
#&gt;                0.066728 seconds (Sampling)
#&gt;                0.169396 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073424 seconds (Warm-up)
#&gt;                0.090207 seconds (Sampling)
#&gt;                0.163631 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080186 seconds (Warm-up)
#&gt;                0.098597 seconds (Sampling)
#&gt;                0.178783 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.085624 seconds (Warm-up)
#&gt;                0.08788 seconds (Sampling)
#&gt;                0.173504 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.092855 seconds (Warm-up)
#&gt;                0.080343 seconds (Sampling)
#&gt;                0.173198 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085998 seconds (Warm-up)
#&gt;                0.081415 seconds (Sampling)
#&gt;                0.167413 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079031 seconds (Warm-up)
#&gt;                0.092871 seconds (Sampling)
#&gt;                0.171902 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078387 seconds (Warm-up)
#&gt;                0.077847 seconds (Sampling)
#&gt;                0.156234 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077426 seconds (Warm-up)
#&gt;                0.082067 seconds (Sampling)
#&gt;                0.159493 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.081395 seconds (Warm-up)
#&gt;                0.085827 seconds (Sampling)
#&gt;                0.167222 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.089255 seconds (Warm-up)
#&gt;                0.074834 seconds (Sampling)
#&gt;                0.164089 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.085224 seconds (Warm-up)
#&gt;                0.08255 seconds (Sampling)
#&gt;                0.167774 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.1131 seconds (Warm-up)
#&gt;                0.122889 seconds (Sampling)
#&gt;                0.235989 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.112244 seconds (Warm-up)
#&gt;                0.084839 seconds (Sampling)
#&gt;                0.197083 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077048 seconds (Warm-up)
#&gt;                0.114101 seconds (Sampling)
#&gt;                0.191149 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.079905 seconds (Warm-up)
#&gt;                0.07402 seconds (Sampling)
#&gt;                0.153925 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.09053 seconds (Warm-up)
#&gt;                0.095041 seconds (Sampling)
#&gt;                0.185571 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.103679 seconds (Warm-up)
#&gt;                0.086789 seconds (Sampling)
#&gt;                0.190468 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077161 seconds (Warm-up)
#&gt;                0.097088 seconds (Sampling)
#&gt;                0.174249 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.080034 seconds (Warm-up)
#&gt;                0.083354 seconds (Sampling)
#&gt;                0.163388 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076734 seconds (Warm-up)
#&gt;                0.075269 seconds (Sampling)
#&gt;                0.152003 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.093092 seconds (Warm-up)
#&gt;                0.110254 seconds (Sampling)
#&gt;                0.203346 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.090273 seconds (Warm-up)
#&gt;                0.078609 seconds (Sampling)
#&gt;                0.168882 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.080063 seconds (Warm-up)
#&gt;                0.074456 seconds (Sampling)
#&gt;                0.154519 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078629 seconds (Warm-up)
#&gt;                0.103455 seconds (Sampling)
#&gt;                0.182084 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.079078 seconds (Warm-up)
#&gt;                0.078131 seconds (Sampling)
#&gt;                0.157209 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.096695 seconds (Warm-up)
#&gt;                0.116519 seconds (Sampling)
#&gt;                0.213214 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.098331 seconds (Warm-up)
#&gt;                0.131266 seconds (Sampling)
#&gt;                0.229597 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.143102 seconds (Warm-up)
#&gt;                0.130527 seconds (Sampling)
#&gt;                0.273629 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.09985 seconds (Warm-up)
#&gt;                0.087656 seconds (Sampling)
#&gt;                0.187506 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.088371 seconds (Warm-up)
#&gt;                0.075988 seconds (Sampling)
#&gt;                0.164359 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.080879 seconds (Warm-up)
#&gt;                0.081994 seconds (Sampling)
#&gt;                0.162873 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078255 seconds (Warm-up)
#&gt;                0.09066 seconds (Sampling)
#&gt;                0.168915 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082465 seconds (Warm-up)
#&gt;                0.078286 seconds (Sampling)
#&gt;                0.160751 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.067132 seconds (Warm-up)
#&gt;                0.077078 seconds (Sampling)
#&gt;                0.14421 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
