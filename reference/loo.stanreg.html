<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../dev-notes/index.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.072904 seconds (Warm-up)
#&gt;                0.059003 seconds (Sampling)
#&gt;                0.131907 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.075142 seconds (Warm-up)
#&gt;                0.053143 seconds (Sampling)
#&gt;                0.128285 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.051645 seconds (Warm-up)
#&gt;                0.06786 seconds (Sampling)
#&gt;                0.119505 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.064098 seconds (Warm-up)
#&gt;                0.054378 seconds (Sampling)
#&gt;                0.118476 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.088043 seconds (Warm-up)
#&gt;                0.085084 seconds (Sampling)
#&gt;                0.173127 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.089967 seconds (Warm-up)
#&gt;                0.0836 seconds (Sampling)
#&gt;                0.173567 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.086301 seconds (Warm-up)
#&gt;                0.081664 seconds (Sampling)
#&gt;                0.167965 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.083475 seconds (Warm-up)
#&gt;                0.081028 seconds (Sampling)
#&gt;                0.164503 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.436742 seconds (Warm-up)
#&gt;                0.452473 seconds (Sampling)
#&gt;                0.889215 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.441705 seconds (Warm-up)
#&gt;                0.363301 seconds (Sampling)
#&gt;                0.805006 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.421385 seconds (Warm-up)
#&gt;                0.378059 seconds (Sampling)
#&gt;                0.799444 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.377305 seconds (Warm-up)
#&gt;                0.31382 seconds (Sampling)
#&gt;                0.691125 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.407419 seconds (Warm-up)
#&gt;                0.606888 seconds (Sampling)
#&gt;                1.01431 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.544547 seconds (Warm-up)
#&gt;                0.359199 seconds (Sampling)
#&gt;                0.903746 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.42955 seconds (Warm-up)
#&gt;                0.390273 seconds (Sampling)
#&gt;                0.819823 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.366021 seconds (Warm-up)
#&gt;                0.291589 seconds (Sampling)
#&gt;                0.65761 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.36848 seconds (Warm-up)
#&gt;                0.349076 seconds (Sampling)
#&gt;                0.717556 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.59647 seconds (Warm-up)
#&gt;                0.4646 seconds (Sampling)
#&gt;                1.06107 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.392795 seconds (Warm-up)
#&gt;                0.368163 seconds (Sampling)
#&gt;                0.760958 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.336793 seconds (Warm-up)
#&gt;                0.393152 seconds (Sampling)
#&gt;                0.729945 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.407636 seconds (Warm-up)
#&gt;                0.389602 seconds (Sampling)
#&gt;                0.797238 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.377533 seconds (Warm-up)
#&gt;                0.43845 seconds (Sampling)
#&gt;                0.815983 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.406061 seconds (Warm-up)
#&gt;                0.431466 seconds (Sampling)
#&gt;                0.837527 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.407173 seconds (Warm-up)
#&gt;                0.430458 seconds (Sampling)
#&gt;                0.837631 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.403935 seconds (Warm-up)
#&gt;                0.449898 seconds (Sampling)
#&gt;                0.853833 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.474163 seconds (Warm-up)
#&gt;                0.468894 seconds (Sampling)
#&gt;                0.943057 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.421932 seconds (Warm-up)
#&gt;                0.508592 seconds (Sampling)
#&gt;                0.930524 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.488604 seconds (Warm-up)
#&gt;                0.344447 seconds (Sampling)
#&gt;                0.833051 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.047613 seconds (Warm-up)
#&gt;                0.047629 seconds (Sampling)
#&gt;                0.095242 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05368 seconds (Warm-up)
#&gt;                0.04462 seconds (Sampling)
#&gt;                0.0983 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049991 seconds (Warm-up)
#&gt;                0.047806 seconds (Sampling)
#&gt;                0.097797 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053584 seconds (Warm-up)
#&gt;                0.045532 seconds (Sampling)
#&gt;                0.099116 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050597 seconds (Warm-up)
#&gt;                0.044459 seconds (Sampling)
#&gt;                0.095056 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054528 seconds (Warm-up)
#&gt;                0.044386 seconds (Sampling)
#&gt;                0.098914 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.062593 seconds (Warm-up)
#&gt;                0.048002 seconds (Sampling)
#&gt;                0.110595 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048712 seconds (Warm-up)
#&gt;                0.052575 seconds (Sampling)
#&gt;                0.101287 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.085062 seconds (Warm-up)
#&gt;                0.065373 seconds (Sampling)
#&gt;                0.150435 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.067896 seconds (Warm-up)
#&gt;                0.062939 seconds (Sampling)
#&gt;                0.130835 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077762 seconds (Warm-up)
#&gt;                0.073111 seconds (Sampling)
#&gt;                0.150873 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072019 seconds (Warm-up)
#&gt;                0.076369 seconds (Sampling)
#&gt;                0.148388 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.069683 seconds (Warm-up)
#&gt;                0.07026 seconds (Sampling)
#&gt;                0.139943 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080204 seconds (Warm-up)
#&gt;                0.06379 seconds (Sampling)
#&gt;                0.143994 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.064439 seconds (Warm-up)
#&gt;                0.045652 seconds (Sampling)
#&gt;                0.110091 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.06128 seconds (Warm-up)
#&gt;                0.050719 seconds (Sampling)
#&gt;                0.111999 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.047448 seconds (Warm-up)
#&gt;                0.045104 seconds (Sampling)
#&gt;                0.092552 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048766 seconds (Warm-up)
#&gt;                0.046799 seconds (Sampling)
#&gt;                0.095565 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045984 seconds (Warm-up)
#&gt;                0.04841 seconds (Sampling)
#&gt;                0.094394 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05109 seconds (Warm-up)
#&gt;                0.047387 seconds (Sampling)
#&gt;                0.098477 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046275 seconds (Warm-up)
#&gt;                0.044627 seconds (Sampling)
#&gt;                0.090902 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050226 seconds (Warm-up)
#&gt;                0.049457 seconds (Sampling)
#&gt;                0.099683 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047825 seconds (Warm-up)
#&gt;                0.046329 seconds (Sampling)
#&gt;                0.094154 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05236 seconds (Warm-up)
#&gt;                0.048711 seconds (Sampling)
#&gt;                0.101071 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050509 seconds (Warm-up)
#&gt;                0.047231 seconds (Sampling)
#&gt;                0.09774 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.04736 seconds (Warm-up)
#&gt;                0.045761 seconds (Sampling)
#&gt;                0.093121 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049146 seconds (Warm-up)
#&gt;                0.045494 seconds (Sampling)
#&gt;                0.09464 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051054 seconds (Warm-up)
#&gt;                0.052317 seconds (Sampling)
#&gt;                0.103371 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051251 seconds (Warm-up)
#&gt;                0.04621 seconds (Sampling)
#&gt;                0.097461 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053702 seconds (Warm-up)
#&gt;                0.048608 seconds (Sampling)
#&gt;                0.10231 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054913 seconds (Warm-up)
#&gt;                0.048297 seconds (Sampling)
#&gt;                0.10321 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050123 seconds (Warm-up)
#&gt;                0.045615 seconds (Sampling)
#&gt;                0.095738 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.059989 seconds (Warm-up)
#&gt;                0.045729 seconds (Sampling)
#&gt;                0.105718 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050958 seconds (Warm-up)
#&gt;                0.046359 seconds (Sampling)
#&gt;                0.097317 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049902 seconds (Warm-up)
#&gt;                0.045577 seconds (Sampling)
#&gt;                0.095479 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047998 seconds (Warm-up)
#&gt;                0.048486 seconds (Sampling)
#&gt;                0.096484 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.054159 seconds (Warm-up)
#&gt;                0.050847 seconds (Sampling)
#&gt;                0.105006 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048187 seconds (Warm-up)
#&gt;                0.044145 seconds (Sampling)
#&gt;                0.092332 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.055307 seconds (Warm-up)
#&gt;                0.04708 seconds (Sampling)
#&gt;                0.102387 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049253 seconds (Warm-up)
#&gt;                0.042853 seconds (Sampling)
#&gt;                0.092106 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.074146 seconds (Warm-up)
#&gt;                0.085182 seconds (Sampling)
#&gt;                0.159328 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071394 seconds (Warm-up)
#&gt;                0.070598 seconds (Sampling)
#&gt;                0.141992 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076989 seconds (Warm-up)
#&gt;                0.068812 seconds (Sampling)
#&gt;                0.145801 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074164 seconds (Warm-up)
#&gt;                0.073353 seconds (Sampling)
#&gt;                0.147517 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.084516 seconds (Warm-up)
#&gt;                0.076176 seconds (Sampling)
#&gt;                0.160692 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082154 seconds (Warm-up)
#&gt;                0.063974 seconds (Sampling)
#&gt;                0.146128 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071505 seconds (Warm-up)
#&gt;                0.077111 seconds (Sampling)
#&gt;                0.148616 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075365 seconds (Warm-up)
#&gt;                0.073697 seconds (Sampling)
#&gt;                0.149062 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075814 seconds (Warm-up)
#&gt;                0.076595 seconds (Sampling)
#&gt;                0.152409 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.089299 seconds (Warm-up)
#&gt;                0.069662 seconds (Sampling)
#&gt;                0.158961 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077136 seconds (Warm-up)
#&gt;                0.076116 seconds (Sampling)
#&gt;                0.153252 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075335 seconds (Warm-up)
#&gt;                0.079294 seconds (Sampling)
#&gt;                0.154629 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078592 seconds (Warm-up)
#&gt;                0.079528 seconds (Sampling)
#&gt;                0.15812 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076327 seconds (Warm-up)
#&gt;                0.074911 seconds (Sampling)
#&gt;                0.151238 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082231 seconds (Warm-up)
#&gt;                0.073226 seconds (Sampling)
#&gt;                0.155457 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080033 seconds (Warm-up)
#&gt;                0.071448 seconds (Sampling)
#&gt;                0.151481 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.069037 seconds (Warm-up)
#&gt;                0.075245 seconds (Sampling)
#&gt;                0.144282 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084075 seconds (Warm-up)
#&gt;                0.07433 seconds (Sampling)
#&gt;                0.158405 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085591 seconds (Warm-up)
#&gt;                0.087185 seconds (Sampling)
#&gt;                0.172776 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074283 seconds (Warm-up)
#&gt;                0.072498 seconds (Sampling)
#&gt;                0.146781 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.069091 seconds (Warm-up)
#&gt;                0.06898 seconds (Sampling)
#&gt;                0.138071 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.087679 seconds (Warm-up)
#&gt;                0.085076 seconds (Sampling)
#&gt;                0.172755 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078577 seconds (Warm-up)
#&gt;                0.086519 seconds (Sampling)
#&gt;                0.165096 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077147 seconds (Warm-up)
#&gt;                0.079266 seconds (Sampling)
#&gt;                0.156413 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075297 seconds (Warm-up)
#&gt;                0.079877 seconds (Sampling)
#&gt;                0.155174 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077091 seconds (Warm-up)
#&gt;                0.075683 seconds (Sampling)
#&gt;                0.152774 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084143 seconds (Warm-up)
#&gt;                0.077719 seconds (Sampling)
#&gt;                0.161862 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075109 seconds (Warm-up)
#&gt;                0.083735 seconds (Sampling)
#&gt;                0.158844 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.077248 seconds (Warm-up)
#&gt;                0.075264 seconds (Sampling)
#&gt;                0.152512 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076364 seconds (Warm-up)
#&gt;                0.07316 seconds (Sampling)
#&gt;                0.149524 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082633 seconds (Warm-up)
#&gt;                0.076396 seconds (Sampling)
#&gt;                0.159029 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078341 seconds (Warm-up)
#&gt;                0.077786 seconds (Sampling)
#&gt;                0.156127 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075555 seconds (Warm-up)
#&gt;                0.079224 seconds (Sampling)
#&gt;                0.154779 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084024 seconds (Warm-up)
#&gt;                0.074595 seconds (Sampling)
#&gt;                0.158619 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077122 seconds (Warm-up)
#&gt;                0.08135 seconds (Sampling)
#&gt;                0.158472 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078759 seconds (Warm-up)
#&gt;                0.071825 seconds (Sampling)
#&gt;                0.150584 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.117595 seconds (Warm-up)
#&gt;                0.090715 seconds (Sampling)
#&gt;                0.20831 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.115004 seconds (Warm-up)
#&gt;                0.089972 seconds (Sampling)
#&gt;                0.204976 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076338 seconds (Warm-up)
#&gt;                0.076969 seconds (Sampling)
#&gt;                0.153307 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.066098 seconds (Warm-up)
#&gt;                0.081181 seconds (Sampling)
#&gt;                0.147279 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
