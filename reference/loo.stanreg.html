<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../dev-notes/index.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.068787 seconds (Warm-up)
#&gt;                0.051155 seconds (Sampling)
#&gt;                0.119942 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.054963 seconds (Warm-up)
#&gt;                0.051632 seconds (Sampling)
#&gt;                0.106595 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.07061 seconds (Warm-up)
#&gt;                0.051435 seconds (Sampling)
#&gt;                0.122045 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.051918 seconds (Warm-up)
#&gt;                0.0531 seconds (Sampling)
#&gt;                0.105018 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.095375 seconds (Warm-up)
#&gt;                0.087331 seconds (Sampling)
#&gt;                0.182706 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.089217 seconds (Warm-up)
#&gt;                0.083481 seconds (Sampling)
#&gt;                0.172698 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.131807 seconds (Warm-up)
#&gt;                0.103831 seconds (Sampling)
#&gt;                0.235638 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.081429 seconds (Warm-up)
#&gt;                0.089584 seconds (Sampling)
#&gt;                0.171013 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.482565 seconds (Warm-up)
#&gt;                0.399545 seconds (Sampling)
#&gt;                0.88211 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.415453 seconds (Warm-up)
#&gt;                0.340132 seconds (Sampling)
#&gt;                0.755585 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.410767 seconds (Warm-up)
#&gt;                0.375238 seconds (Sampling)
#&gt;                0.786005 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.380733 seconds (Warm-up)
#&gt;                0.349712 seconds (Sampling)
#&gt;                0.730445 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.383971 seconds (Warm-up)
#&gt;                0.414177 seconds (Sampling)
#&gt;                0.798148 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.405488 seconds (Warm-up)
#&gt;                0.354417 seconds (Sampling)
#&gt;                0.759905 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.415467 seconds (Warm-up)
#&gt;                0.37902 seconds (Sampling)
#&gt;                0.794487 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.360434 seconds (Warm-up)
#&gt;                0.294656 seconds (Sampling)
#&gt;                0.65509 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.364049 seconds (Warm-up)
#&gt;                0.355473 seconds (Sampling)
#&gt;                0.719522 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.379193 seconds (Warm-up)
#&gt;                0.451666 seconds (Sampling)
#&gt;                0.830859 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.411022 seconds (Warm-up)
#&gt;                0.394433 seconds (Sampling)
#&gt;                0.805455 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.353643 seconds (Warm-up)
#&gt;                0.388082 seconds (Sampling)
#&gt;                0.741725 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.393385 seconds (Warm-up)
#&gt;                0.366593 seconds (Sampling)
#&gt;                0.759978 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.375387 seconds (Warm-up)
#&gt;                0.374989 seconds (Sampling)
#&gt;                0.750376 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.381368 seconds (Warm-up)
#&gt;                0.443115 seconds (Sampling)
#&gt;                0.824483 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.383436 seconds (Warm-up)
#&gt;                0.438793 seconds (Sampling)
#&gt;                0.822229 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.386547 seconds (Warm-up)
#&gt;                0.441277 seconds (Sampling)
#&gt;                0.827824 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.347799 seconds (Warm-up)
#&gt;                0.327557 seconds (Sampling)
#&gt;                0.675356 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.361669 seconds (Warm-up)
#&gt;                0.425231 seconds (Sampling)
#&gt;                0.7869 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.382849 seconds (Warm-up)
#&gt;                0.333724 seconds (Sampling)
#&gt;                0.716573 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.045877 seconds (Warm-up)
#&gt;                0.044854 seconds (Sampling)
#&gt;                0.090731 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052176 seconds (Warm-up)
#&gt;                0.04409 seconds (Sampling)
#&gt;                0.096266 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052924 seconds (Warm-up)
#&gt;                0.049233 seconds (Sampling)
#&gt;                0.102157 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051236 seconds (Warm-up)
#&gt;                0.0442 seconds (Sampling)
#&gt;                0.095436 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050722 seconds (Warm-up)
#&gt;                0.047962 seconds (Sampling)
#&gt;                0.098684 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054532 seconds (Warm-up)
#&gt;                0.045899 seconds (Sampling)
#&gt;                0.100431 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049227 seconds (Warm-up)
#&gt;                0.05061 seconds (Sampling)
#&gt;                0.099837 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.063242 seconds (Warm-up)
#&gt;                0.051831 seconds (Sampling)
#&gt;                0.115073 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.053305 seconds (Warm-up)
#&gt;                0.046154 seconds (Sampling)
#&gt;                0.099459 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.044067 seconds (Warm-up)
#&gt;                0.046312 seconds (Sampling)
#&gt;                0.090379 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050419 seconds (Warm-up)
#&gt;                0.046636 seconds (Sampling)
#&gt;                0.097055 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05147 seconds (Warm-up)
#&gt;                0.047769 seconds (Sampling)
#&gt;                0.099239 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.05259 seconds (Warm-up)
#&gt;                0.044567 seconds (Sampling)
#&gt;                0.097157 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05014 seconds (Warm-up)
#&gt;                0.05377 seconds (Sampling)
#&gt;                0.10391 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050757 seconds (Warm-up)
#&gt;                0.04654 seconds (Sampling)
#&gt;                0.097297 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049514 seconds (Warm-up)
#&gt;                0.047317 seconds (Sampling)
#&gt;                0.096831 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.054548 seconds (Warm-up)
#&gt;                0.043708 seconds (Sampling)
#&gt;                0.098256 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047784 seconds (Warm-up)
#&gt;                0.045221 seconds (Sampling)
#&gt;                0.093005 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047256 seconds (Warm-up)
#&gt;                0.047624 seconds (Sampling)
#&gt;                0.09488 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.058421 seconds (Warm-up)
#&gt;                0.053546 seconds (Sampling)
#&gt;                0.111967 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.047019 seconds (Warm-up)
#&gt;                0.047168 seconds (Sampling)
#&gt;                0.094187 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.053179 seconds (Warm-up)
#&gt;                0.046803 seconds (Sampling)
#&gt;                0.099982 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050132 seconds (Warm-up)
#&gt;                0.051107 seconds (Sampling)
#&gt;                0.101239 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049783 seconds (Warm-up)
#&gt;                0.046723 seconds (Sampling)
#&gt;                0.096506 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.052 seconds (Warm-up)
#&gt;                0.045011 seconds (Sampling)
#&gt;                0.097011 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047976 seconds (Warm-up)
#&gt;                0.047134 seconds (Sampling)
#&gt;                0.09511 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048575 seconds (Warm-up)
#&gt;                0.04462 seconds (Sampling)
#&gt;                0.093195 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050206 seconds (Warm-up)
#&gt;                0.047065 seconds (Sampling)
#&gt;                0.097271 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.065426 seconds (Warm-up)
#&gt;                0.046854 seconds (Sampling)
#&gt;                0.11228 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050781 seconds (Warm-up)
#&gt;                0.048711 seconds (Sampling)
#&gt;                0.099492 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054496 seconds (Warm-up)
#&gt;                0.046974 seconds (Sampling)
#&gt;                0.10147 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050766 seconds (Warm-up)
#&gt;                0.045771 seconds (Sampling)
#&gt;                0.096537 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.052193 seconds (Warm-up)
#&gt;                0.046613 seconds (Sampling)
#&gt;                0.098806 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051328 seconds (Warm-up)
#&gt;                0.046825 seconds (Sampling)
#&gt;                0.098153 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050508 seconds (Warm-up)
#&gt;                0.046902 seconds (Sampling)
#&gt;                0.09741 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049874 seconds (Warm-up)
#&gt;                0.051543 seconds (Sampling)
#&gt;                0.101417 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.047739 seconds (Warm-up)
#&gt;                0.060165 seconds (Sampling)
#&gt;                0.107904 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.057319 seconds (Warm-up)
#&gt;                0.045175 seconds (Sampling)
#&gt;                0.102494 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052311 seconds (Warm-up)
#&gt;                0.04571 seconds (Sampling)
#&gt;                0.098021 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051367 seconds (Warm-up)
#&gt;                0.046663 seconds (Sampling)
#&gt;                0.09803 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.074871 seconds (Warm-up)
#&gt;                0.084394 seconds (Sampling)
#&gt;                0.159265 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071786 seconds (Warm-up)
#&gt;                0.062402 seconds (Sampling)
#&gt;                0.134188 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076526 seconds (Warm-up)
#&gt;                0.071874 seconds (Sampling)
#&gt;                0.1484 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075089 seconds (Warm-up)
#&gt;                0.083243 seconds (Sampling)
#&gt;                0.158332 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.089608 seconds (Warm-up)
#&gt;                0.075359 seconds (Sampling)
#&gt;                0.164967 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.083714 seconds (Warm-up)
#&gt;                0.069339 seconds (Sampling)
#&gt;                0.153053 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070928 seconds (Warm-up)
#&gt;                0.080091 seconds (Sampling)
#&gt;                0.151019 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076617 seconds (Warm-up)
#&gt;                0.072839 seconds (Sampling)
#&gt;                0.149456 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.083413 seconds (Warm-up)
#&gt;                0.082422 seconds (Sampling)
#&gt;                0.165835 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078956 seconds (Warm-up)
#&gt;                0.071837 seconds (Sampling)
#&gt;                0.150793 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078925 seconds (Warm-up)
#&gt;                0.075945 seconds (Sampling)
#&gt;                0.15487 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073341 seconds (Warm-up)
#&gt;                0.091194 seconds (Sampling)
#&gt;                0.164535 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078754 seconds (Warm-up)
#&gt;                0.077472 seconds (Sampling)
#&gt;                0.156226 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078882 seconds (Warm-up)
#&gt;                0.086686 seconds (Sampling)
#&gt;                0.165568 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084177 seconds (Warm-up)
#&gt;                0.073803 seconds (Sampling)
#&gt;                0.15798 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.086073 seconds (Warm-up)
#&gt;                0.072135 seconds (Sampling)
#&gt;                0.158208 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.073973 seconds (Warm-up)
#&gt;                0.070943 seconds (Sampling)
#&gt;                0.144916 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082891 seconds (Warm-up)
#&gt;                0.081691 seconds (Sampling)
#&gt;                0.164582 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076149 seconds (Warm-up)
#&gt;                0.071303 seconds (Sampling)
#&gt;                0.147452 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073727 seconds (Warm-up)
#&gt;                0.076773 seconds (Sampling)
#&gt;                0.1505 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.067796 seconds (Warm-up)
#&gt;                0.075757 seconds (Sampling)
#&gt;                0.143553 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.08671 seconds (Warm-up)
#&gt;                0.080198 seconds (Sampling)
#&gt;                0.166908 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080373 seconds (Warm-up)
#&gt;                0.079864 seconds (Sampling)
#&gt;                0.160237 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076006 seconds (Warm-up)
#&gt;                0.078457 seconds (Sampling)
#&gt;                0.154463 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.074218 seconds (Warm-up)
#&gt;                0.077385 seconds (Sampling)
#&gt;                0.151603 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076039 seconds (Warm-up)
#&gt;                0.075465 seconds (Sampling)
#&gt;                0.151504 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.08382 seconds (Warm-up)
#&gt;                0.081935 seconds (Sampling)
#&gt;                0.165755 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072481 seconds (Warm-up)
#&gt;                0.079487 seconds (Sampling)
#&gt;                0.151968 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.077643 seconds (Warm-up)
#&gt;                0.073826 seconds (Sampling)
#&gt;                0.151469 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076021 seconds (Warm-up)
#&gt;                0.072067 seconds (Sampling)
#&gt;                0.148088 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.081506 seconds (Warm-up)
#&gt;                0.069905 seconds (Sampling)
#&gt;                0.151411 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077986 seconds (Warm-up)
#&gt;                0.072963 seconds (Sampling)
#&gt;                0.150949 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.073896 seconds (Warm-up)
#&gt;                0.076444 seconds (Sampling)
#&gt;                0.15034 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.089469 seconds (Warm-up)
#&gt;                0.071983 seconds (Sampling)
#&gt;                0.161452 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072312 seconds (Warm-up)
#&gt;                0.076875 seconds (Sampling)
#&gt;                0.149187 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.07223 seconds (Warm-up)
#&gt;                0.068258 seconds (Sampling)
#&gt;                0.140488 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078076 seconds (Warm-up)
#&gt;                0.077688 seconds (Sampling)
#&gt;                0.155764 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074615 seconds (Warm-up)
#&gt;                0.069922 seconds (Sampling)
#&gt;                0.144537 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075414 seconds (Warm-up)
#&gt;                0.079595 seconds (Sampling)
#&gt;                0.155009 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.069603 seconds (Warm-up)
#&gt;                0.077776 seconds (Sampling)
#&gt;                0.147379 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
