<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="https://htmlpreview.github.io/?https://github.com/stan-dev/rstanarm/blob/master/dev-notes/rstanarm_dev_notes.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.053705 seconds (Warm-up)
#&gt;                0.043267 seconds (Sampling)
#&gt;                0.096972 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.050801 seconds (Warm-up)
#&gt;                0.044798 seconds (Sampling)
#&gt;                0.095599 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.044243 seconds (Warm-up)
#&gt;                0.046603 seconds (Sampling)
#&gt;                0.090846 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.049523 seconds (Warm-up)
#&gt;                0.046304 seconds (Sampling)
#&gt;                0.095827 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.082181 seconds (Warm-up)
#&gt;                0.081349 seconds (Sampling)
#&gt;                0.16353 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.078903 seconds (Warm-up)
#&gt;                0.087559 seconds (Sampling)
#&gt;                0.166462 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.087248 seconds (Warm-up)
#&gt;                0.07649 seconds (Sampling)
#&gt;                0.163738 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.071963 seconds (Warm-up)
#&gt;                0.072399 seconds (Sampling)
#&gt;                0.144362 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.370844 seconds (Warm-up)
#&gt;                0.347084 seconds (Sampling)
#&gt;                0.717928 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.349033 seconds (Warm-up)
#&gt;                0.290535 seconds (Sampling)
#&gt;                0.639568 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.341259 seconds (Warm-up)
#&gt;                0.301981 seconds (Sampling)
#&gt;                0.64324 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.343087 seconds (Warm-up)
#&gt;                0.265943 seconds (Sampling)
#&gt;                0.60903 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.361864 seconds (Warm-up)
#&gt;                0.384614 seconds (Sampling)
#&gt;                0.746478 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.384931 seconds (Warm-up)
#&gt;                0.334071 seconds (Sampling)
#&gt;                0.719002 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.393218 seconds (Warm-up)
#&gt;                0.355253 seconds (Sampling)
#&gt;                0.748471 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.348476 seconds (Warm-up)
#&gt;                0.277602 seconds (Sampling)
#&gt;                0.626078 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.342342 seconds (Warm-up)
#&gt;                0.29854 seconds (Sampling)
#&gt;                0.640882 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.347348 seconds (Warm-up)
#&gt;                0.405567 seconds (Sampling)
#&gt;                0.752915 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.360032 seconds (Warm-up)
#&gt;                0.356426 seconds (Sampling)
#&gt;                0.716458 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.332964 seconds (Warm-up)
#&gt;                0.363788 seconds (Sampling)
#&gt;                0.696752 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.374988 seconds (Warm-up)
#&gt;                0.339487 seconds (Sampling)
#&gt;                0.714475 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.356562 seconds (Warm-up)
#&gt;                0.356347 seconds (Sampling)
#&gt;                0.712909 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.356622 seconds (Warm-up)
#&gt;                0.426187 seconds (Sampling)
#&gt;                0.782809 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.380997 seconds (Warm-up)
#&gt;                0.419505 seconds (Sampling)
#&gt;                0.800502 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.365716 seconds (Warm-up)
#&gt;                0.411656 seconds (Sampling)
#&gt;                0.777372 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.330813 seconds (Warm-up)
#&gt;                0.317249 seconds (Sampling)
#&gt;                0.648062 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.348477 seconds (Warm-up)
#&gt;                0.412764 seconds (Sampling)
#&gt;                0.761241 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.367945 seconds (Warm-up)
#&gt;                0.323332 seconds (Sampling)
#&gt;                0.691277 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046129 seconds (Warm-up)
#&gt;                0.043316 seconds (Sampling)
#&gt;                0.089445 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050624 seconds (Warm-up)
#&gt;                0.042138 seconds (Sampling)
#&gt;                0.092762 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046427 seconds (Warm-up)
#&gt;                0.042203 seconds (Sampling)
#&gt;                0.08863 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045871 seconds (Warm-up)
#&gt;                0.042071 seconds (Sampling)
#&gt;                0.087942 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.04839 seconds (Warm-up)
#&gt;                0.040962 seconds (Sampling)
#&gt;                0.089352 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050819 seconds (Warm-up)
#&gt;                0.042367 seconds (Sampling)
#&gt;                0.093186 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048419 seconds (Warm-up)
#&gt;                0.044858 seconds (Sampling)
#&gt;                0.093277 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.044247 seconds (Warm-up)
#&gt;                0.047062 seconds (Sampling)
#&gt;                0.091309 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.05154 seconds (Warm-up)
#&gt;                0.043621 seconds (Sampling)
#&gt;                0.095161 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.041885 seconds (Warm-up)
#&gt;                0.042768 seconds (Sampling)
#&gt;                0.084653 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.055388 seconds (Warm-up)
#&gt;                0.040708 seconds (Sampling)
#&gt;                0.096096 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046806 seconds (Warm-up)
#&gt;                0.044547 seconds (Sampling)
#&gt;                0.091353 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.052085 seconds (Warm-up)
#&gt;                0.042643 seconds (Sampling)
#&gt;                0.094728 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049425 seconds (Warm-up)
#&gt;                0.039789 seconds (Sampling)
#&gt;                0.089214 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047917 seconds (Warm-up)
#&gt;                0.04392 seconds (Sampling)
#&gt;                0.091837 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045302 seconds (Warm-up)
#&gt;                0.042051 seconds (Sampling)
#&gt;                0.087353 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.046597 seconds (Warm-up)
#&gt;                0.041789 seconds (Sampling)
#&gt;                0.088386 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.04706 seconds (Warm-up)
#&gt;                0.043353 seconds (Sampling)
#&gt;                0.090413 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.044488 seconds (Warm-up)
#&gt;                0.043996 seconds (Sampling)
#&gt;                0.088484 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051968 seconds (Warm-up)
#&gt;                0.044236 seconds (Sampling)
#&gt;                0.096204 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.045297 seconds (Warm-up)
#&gt;                0.041892 seconds (Sampling)
#&gt;                0.087189 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049066 seconds (Warm-up)
#&gt;                0.04588 seconds (Sampling)
#&gt;                0.094946 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046086 seconds (Warm-up)
#&gt;                0.042753 seconds (Sampling)
#&gt;                0.088839 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045462 seconds (Warm-up)
#&gt;                0.044146 seconds (Sampling)
#&gt;                0.089608 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.04865 seconds (Warm-up)
#&gt;                0.042429 seconds (Sampling)
#&gt;                0.091079 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048963 seconds (Warm-up)
#&gt;                0.045657 seconds (Sampling)
#&gt;                0.09462 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045749 seconds (Warm-up)
#&gt;                0.04509 seconds (Sampling)
#&gt;                0.090839 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049218 seconds (Warm-up)
#&gt;                0.045168 seconds (Sampling)
#&gt;                0.094386 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.053486 seconds (Warm-up)
#&gt;                0.044705 seconds (Sampling)
#&gt;                0.098191 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048383 seconds (Warm-up)
#&gt;                0.041973 seconds (Sampling)
#&gt;                0.090356 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050913 seconds (Warm-up)
#&gt;                0.042298 seconds (Sampling)
#&gt;                0.093211 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047336 seconds (Warm-up)
#&gt;                0.042659 seconds (Sampling)
#&gt;                0.089995 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050558 seconds (Warm-up)
#&gt;                0.04186 seconds (Sampling)
#&gt;                0.092418 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052193 seconds (Warm-up)
#&gt;                0.042689 seconds (Sampling)
#&gt;                0.094882 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049984 seconds (Warm-up)
#&gt;                0.045689 seconds (Sampling)
#&gt;                0.095673 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.045386 seconds (Warm-up)
#&gt;                0.044774 seconds (Sampling)
#&gt;                0.09016 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.048477 seconds (Warm-up)
#&gt;                0.040895 seconds (Sampling)
#&gt;                0.089372 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049463 seconds (Warm-up)
#&gt;                0.043972 seconds (Sampling)
#&gt;                0.093435 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051554 seconds (Warm-up)
#&gt;                0.047565 seconds (Sampling)
#&gt;                0.099119 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046702 seconds (Warm-up)
#&gt;                0.042176 seconds (Sampling)
#&gt;                0.088878 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.070195 seconds (Warm-up)
#&gt;                0.081786 seconds (Sampling)
#&gt;                0.151981 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073474 seconds (Warm-up)
#&gt;                0.063473 seconds (Sampling)
#&gt;                0.136947 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071901 seconds (Warm-up)
#&gt;                0.066175 seconds (Sampling)
#&gt;                0.138076 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072894 seconds (Warm-up)
#&gt;                0.073606 seconds (Sampling)
#&gt;                0.1465 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.079495 seconds (Warm-up)
#&gt;                0.07132 seconds (Sampling)
#&gt;                0.150815 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080193 seconds (Warm-up)
#&gt;                0.06326 seconds (Sampling)
#&gt;                0.143453 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074375 seconds (Warm-up)
#&gt;                0.075689 seconds (Sampling)
#&gt;                0.150064 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074276 seconds (Warm-up)
#&gt;                0.069639 seconds (Sampling)
#&gt;                0.143915 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.071663 seconds (Warm-up)
#&gt;                0.077406 seconds (Sampling)
#&gt;                0.149069 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076472 seconds (Warm-up)
#&gt;                0.065656 seconds (Sampling)
#&gt;                0.142128 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075516 seconds (Warm-up)
#&gt;                0.073649 seconds (Sampling)
#&gt;                0.149165 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072344 seconds (Warm-up)
#&gt;                0.080628 seconds (Sampling)
#&gt;                0.152972 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.072235 seconds (Warm-up)
#&gt;                0.069356 seconds (Sampling)
#&gt;                0.141591 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070316 seconds (Warm-up)
#&gt;                0.066014 seconds (Sampling)
#&gt;                0.13633 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077356 seconds (Warm-up)
#&gt;                0.066258 seconds (Sampling)
#&gt;                0.143614 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074399 seconds (Warm-up)
#&gt;                0.06668 seconds (Sampling)
#&gt;                0.141079 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.067483 seconds (Warm-up)
#&gt;                0.067414 seconds (Sampling)
#&gt;                0.134897 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078779 seconds (Warm-up)
#&gt;                0.07017 seconds (Sampling)
#&gt;                0.148949 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076379 seconds (Warm-up)
#&gt;                0.068616 seconds (Sampling)
#&gt;                0.144995 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.072916 seconds (Warm-up)
#&gt;                0.071963 seconds (Sampling)
#&gt;                0.144879 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.067722 seconds (Warm-up)
#&gt;                0.067663 seconds (Sampling)
#&gt;                0.135385 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.076952 seconds (Warm-up)
#&gt;                0.075413 seconds (Sampling)
#&gt;                0.152365 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073555 seconds (Warm-up)
#&gt;                0.07421 seconds (Sampling)
#&gt;                0.147765 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.06959 seconds (Warm-up)
#&gt;                0.072918 seconds (Sampling)
#&gt;                0.142508 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.073335 seconds (Warm-up)
#&gt;                0.070834 seconds (Sampling)
#&gt;                0.144169 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077546 seconds (Warm-up)
#&gt;                0.074443 seconds (Sampling)
#&gt;                0.151989 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078853 seconds (Warm-up)
#&gt;                0.069083 seconds (Sampling)
#&gt;                0.147936 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.068133 seconds (Warm-up)
#&gt;                0.073794 seconds (Sampling)
#&gt;                0.141927 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075585 seconds (Warm-up)
#&gt;                0.072194 seconds (Sampling)
#&gt;                0.147779 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075711 seconds (Warm-up)
#&gt;                0.070896 seconds (Sampling)
#&gt;                0.146607 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071617 seconds (Warm-up)
#&gt;                0.066929 seconds (Sampling)
#&gt;                0.138546 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074045 seconds (Warm-up)
#&gt;                0.070634 seconds (Sampling)
#&gt;                0.144679 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.072252 seconds (Warm-up)
#&gt;                0.071201 seconds (Sampling)
#&gt;                0.143453 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074378 seconds (Warm-up)
#&gt;                0.067154 seconds (Sampling)
#&gt;                0.141532 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073032 seconds (Warm-up)
#&gt;                0.076797 seconds (Sampling)
#&gt;                0.149829 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.070359 seconds (Warm-up)
#&gt;                0.070183 seconds (Sampling)
#&gt;                0.140542 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.072831 seconds (Warm-up)
#&gt;                0.073418 seconds (Sampling)
#&gt;                0.146249 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074758 seconds (Warm-up)
#&gt;                0.066187 seconds (Sampling)
#&gt;                0.140945 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.066833 seconds (Warm-up)
#&gt;                0.073307 seconds (Sampling)
#&gt;                0.14014 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.067407 seconds (Warm-up)
#&gt;                0.069756 seconds (Sampling)
#&gt;                0.137163 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
