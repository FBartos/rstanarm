<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Information criteria and cross-validation — loo.stanreg • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../Articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="https://htmlpreview.github.io/?https://github.com/stan-dev/rstanarm/blob/master/dev-notes/rstanarm_dev_notes.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Information criteria and cross-validation</h1>
    </div>

    
    <p>For models fit using MCMC, compute approximate leave-one-out cross-validation
(LOO, LOOIC) or, less preferably, the Widely Applicable Information Criterion
(WAIC) using the <span class="pkg">loo</span> package. Exact \(K\)-fold 
cross-validation is also available. Compare two or more models using the 
<code>compare_models</code> function. <strong>Note:</strong> these functions are not 
guaranteed to work properly unless the <code>data</code> argument was specified 
when the model was fit.</p>
    

    <pre class="usage"><span class='co'># S3 method for stanreg</span>
<span class='fu'>loo</span>(<span class='no'>x</span>, <span class='no'>...</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='co'># S3 method for stanreg</span>
<span class='fu'>waic</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='fu'>kfold</span>(<span class='no'>x</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>save_fits</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>compare_models</span>(<span class='no'>...</span>, <span class='kw'>loos</span> <span class='kw'>=</span> <span class='fu'>list</span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A fitted model object returned by one of the 
<span class="pkg">rstanarm</span> modeling functions. See <code><a href='stanreg-objects.html'>stanreg-objects</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For the <code>loo</code> method, <code>...</code> can be used to pass optional
arguments (e.g. <code>cores</code>) to <code><a href='http://www.rdocumentation.org/packages/loo/topics/psislw'>psislw</a></code>. For 
<code>compare_models</code>, <code>...</code> should contain two or more objects 
returned by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method (see the 
<strong>Examples</strong> section, below).</p></td>
    </tr>
    <tr>
      <th>k_threshold</th>
      <td><p>Threshold for flagging estimates of the Pareto shape 
parameters \(k\) estimated by <code>loo</code>. See the <em>How to proceed
when <code>loo</code> gives warnings</em> section, below, for details.</p></td>
    </tr>
    <tr>
      <th>K</th>
      <td><p>For <code>kfold</code>, the number of subsets of equal (if possible) size
into which the data will be randomly partitioned for performing
\(K\)-fold cross-validation. The model is refit <code>K</code> times, each time
leaving out one of the <code>K</code> subsets. If <code>K</code> is equal to the total
number of observations in the data then \(K\)-fold cross-validation is
equivalent to exact leave-one-out cross-validation.</p></td>
    </tr>
    <tr>
      <th>save_fits</th>
      <td><p>If <code>TRUE</code>, a component 'fits' is added to the returned
object to store the cross-validated <a href='stanreg-objects.html'>stanreg</a>
objects and the indices of the omitted observations for each fold. Defaults
to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>loos</th>
      <td><p>For <code>compare_models</code>, a list of two or more objects returned
by the <code>loo</code>, <code>kfold</code>, or <code>waic</code> method. This argument can 
be used as an alternative to passing these objects via <code>...</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The <code>loo</code> and <code>waic</code> methods return an object of class
  'loo'. See the <strong>Value</strong> section in <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> and 
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/waic'>waic</a></code> (from the <span class="pkg">loo</span> package) for details on the 
  structure of these objects.

<code>kfold</code> returns an object with has classes 'kfold' and 'loo' 
  that has a similar structure as the objects returned by the <code>loo</code> and
  <code>waic</code> methods.

<code>compare_models</code> returns a vector or matrix with class 
  'compare.loo'. See the <strong>Comparing models</strong> section below for more
  details.</p>
    
    <h2 class="hasAnchor" id="approximate-loo-cv"><a class="anchor" href="#approximate-loo-cv"></a>Approximate LOO CV</h2>

    <p>The <code>loo</code> method for stanreg objects
  provides an interface to the <span class="pkg">loo</span> package for
  approximate leave-one-out cross-validation (LOO). The LOO Information
  Criterion (LOOIC) has the same purpose as the Akaike Information Criterion
  (AIC) that is used by frequentists. Both are intended to estimate the
  expected log predictive density (ELPD) for a new dataset. However, the AIC
  ignores priors and assumes that the posterior distribution is multivariate
  normal, whereas the functions from the <span class="pkg">loo</span> package do not make this
  distributional assumption and integrate over uncertainty in the parameters.
  This only assumes that any one observation can be omitted without having a
  major effect on the posterior distribution, which can be judged using the
  diagnostic plot provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/pareto-k-diagnostic'>plot.loo</a></code> method and the
  warnings provided by the <code><a href='http://www.rdocumentation.org/packages/loo/topics/print.loo'>print.loo</a></code> method (see the
  <em>How to Use the rstanarm Package</em> vignette for an example of this
  process).</p><h3>How to proceed when <code>loo</code> gives warnings (k_threshold)</h3>
    The <code>k_threshold</code> argument to the <code>loo</code> method for <span class="pkg">rstanarm</span>
  models is provided as a possible remedy when the diagnostics reveal
  problems stemming from the posterior's sensitivity to particular
  observations. Warnings about Pareto \(k\) estimates indicate observations
  for which the approximation to LOO is problematic (this is described in
  detail in Vehtari, Gelman, and Gabry (2017) and the
  <span class="pkg">loo</span> package documentation). The
  <code>k_threshold</code> argument can be used to set the \(k\) value above
  which an observation is flagged. If <code>k_threshold</code> is not <code>NULL</code>
  and there are \(J\) observations with \(k\) estimates above
  <code>k_threshold</code> then when <code>loo</code> is called it will refit the 
  original model \(J\) times, each time leaving out one of the \(J\) 
  problematic observations. The pointwise contributions of these observations
  to the total ELPD are then computed directly and substituted for the
  previous estimates from these \(J\) observations that are stored in the
  object created by <code>loo</code>.
    <strong>Note</strong>: in the warning messages issued by <code>loo</code> about large 
  Pareto \(k\) estimates we recommend setting <code>k_threshold</code> to at
  least \(0.7\). There is a theoretical reason, explained in Vehtari,
  Gelman, and Gabry (2017), for setting the threshold to the stricter value
  of \(0.5\), but in practice they find that errors in the LOO
  approximation start to increase non-negligibly when \(k &gt; 0.7\).
    
    <h2 class="hasAnchor" id="k-fold-cv"><a class="anchor" href="#k-fold-cv"></a>K-fold CV</h2>

    <p>The <code>kfold</code> function performs exact \(K\)-fold
  cross-validation. First the data are randomly partitioned into \(K\)
  subsets of equal (or as close to equal as possible) size. Then the model is
  refit \(K\) times, each time leaving out one of the <code>K</code> subsets. If
  \(K\) is equal to the total number of observations in the data then
  \(K\)-fold cross-validation is equivalent to exact leave-one-out
  cross-validation (to which <code>loo</code> is an efficient approximation). The
  <code>compare_models</code> function is also compatible with the objects returned
  by <code>kfold</code>.</p>
    
    <h2 class="hasAnchor" id="comparing-models"><a class="anchor" href="#comparing-models"></a>Comparing models</h2>

    <p><code>compare_models</code> is a wrapper around the
  <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> function in the <span class="pkg">loo</span> package. Before
  calling <code>compare</code>, <code>compare_models</code> performs some extra checks to
  make sure the <span class="pkg">rstanarm</span> models are suitable for comparison. These
  extra checks include verifying that all models to be compared were fit
  using the same outcome variable and likelihood family.
    If exactly two models are being compared then <code>compare_models</code> returns
  a vector containing the difference in expected log predictive density 
  (ELPD) between the models and the standard error of that difference (the 
  documentation for <code><a href='http://www.rdocumentation.org/packages/loo/topics/compare'>compare</a></code> has additional details about 
  the calculation of the standard error of the difference). The difference in
  ELPD will be negative if the expected out-of-sample predictive accuracy of
  the first model is higher. If the difference is be positive then the second
  model is preferred.
    If more than two models are being compared then <code>compare_models</code> 
  returns a matrix with one row per model. This matrix summarizes the objects
  and arranges them in descending order according to expected out-of-sample
  predictive accuracy. That is, the first row of the matrix will be 
  for the model with the largest ELPD (smallest LOOIC).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p>The various <span class="pkg">rstanarm</span> vignettes for more examples of 
    using <code>loo</code> and <code>compare_models</code>.</p></li>
<li><p><code><a href='http://www.rdocumentation.org/packages/loo/topics/loo-package'>loo-package</a></code> (in particular the <em>PSIS-LOO</em> 
    section)  for details on the computations implemented by the <span class="pkg">loo</span> 
    package and the interpretation of the Pareto \(k\) estimates displayed 
    when using the  <code>plot.loo</code> method.</p></li>
<li><p><code><a href='log_lik.stanreg.html'>log_lik.stanreg</a></code> to directly access the pointwise 
    log-likelihood matrix.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fit1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.059629 seconds (Warm-up)
#&gt;                0.057168 seconds (Sampling)
#&gt;                0.116797 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.052035 seconds (Warm-up)
#&gt;                0.051299 seconds (Sampling)
#&gt;                0.103334 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.046795 seconds (Warm-up)
#&gt;                0.048605 seconds (Sampling)
#&gt;                0.0954 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.049759 seconds (Warm-up)
#&gt;                0.04807 seconds (Sampling)
#&gt;                0.097829 seconds (Total)
#&gt; </div><div class='input'><span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>wt</span> + <span class='no'>cyl</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.08373 seconds (Warm-up)
#&gt;                0.084159 seconds (Sampling)
#&gt;                0.167889 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.080382 seconds (Warm-up)
#&gt;                0.079089 seconds (Sampling)
#&gt;                0.159471 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.083505 seconds (Warm-up)
#&gt;                0.082057 seconds (Sampling)
#&gt;                0.165562 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.077219 seconds (Warm-up)
#&gt;                0.080627 seconds (Sampling)
#&gt;                0.157846 seconds (Total)
#&gt; </div><div class='input'>
<span class='co'># compare on LOOIC</span>
(<span class='no'>loo1</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit1</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>))</div><div class='output co'>#&gt; Computed from 4000 by 32 log-likelihood matrix
#&gt; 
#&gt;          Estimate  SE
#&gt; elpd_loo    -83.3 4.2
#&gt; p_loo         3.0 1.1
#&gt; looic       166.6 8.4
#&gt; 
#&gt; All Pareto k estimates are good (k &lt; 0.5)
#&gt; See help('pareto-k-diagnostic') for details.</div><div class='input'><span class='no'>loo2</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit2</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>plot</span>(<span class='no'>loo2</span>)</div><img src='loo.stanreg-8.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'># when comparing exactly two models, the reported 'elpd_diff' will be </span>
<span class='co'># positive if the expected predictive accuracy for the second model is higher</span>
<span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>) <span class='co'># or compare_models(loos = list(loo1, loo2))</span></div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       4.8       2.7 </div><div class='input'>
<span class='co'># when comparing three or more models they are ordered by expected</span>
<span class='co'># predictive accuracy</span>
<span class='no'>fit3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_glm.html'>stan_glm</a></span>(<span class='no'>mpg</span> ~ <span class='no'>.</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>mtcars</span>)</div><div class='output co'>#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).
#&gt; 
#&gt; Chain 1, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 1, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 1, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 1, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 1, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 1, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 1, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 1, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 1, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 1, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 1, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 1, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.438067 seconds (Warm-up)
#&gt;                0.377481 seconds (Sampling)
#&gt;                0.815548 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).
#&gt; 
#&gt; Chain 2, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 2, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 2, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 2, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 2, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 2, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 2, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 2, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 2, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 2, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 2, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 2, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.371858 seconds (Warm-up)
#&gt;                0.332822 seconds (Sampling)
#&gt;                0.70468 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).
#&gt; 
#&gt; Chain 3, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 3, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 3, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 3, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 3, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 3, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 3, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 3, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 3, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 3, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 3, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 3, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.527405 seconds (Warm-up)
#&gt;                0.334324 seconds (Sampling)
#&gt;                0.861729 seconds (Total)
#&gt; 
#&gt; 
#&gt; SAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).
#&gt; 
#&gt; Chain 4, Iteration:    1 / 2000 [  0%]  (Warmup)
#&gt; Chain 4, Iteration:  200 / 2000 [ 10%]  (Warmup)
#&gt; Chain 4, Iteration:  400 / 2000 [ 20%]  (Warmup)
#&gt; Chain 4, Iteration:  600 / 2000 [ 30%]  (Warmup)
#&gt; Chain 4, Iteration:  800 / 2000 [ 40%]  (Warmup)
#&gt; Chain 4, Iteration: 1000 / 2000 [ 50%]  (Warmup)
#&gt; Chain 4, Iteration: 1001 / 2000 [ 50%]  (Sampling)
#&gt; Chain 4, Iteration: 1200 / 2000 [ 60%]  (Sampling)
#&gt; Chain 4, Iteration: 1400 / 2000 [ 70%]  (Sampling)
#&gt; Chain 4, Iteration: 1600 / 2000 [ 80%]  (Sampling)
#&gt; Chain 4, Iteration: 1800 / 2000 [ 90%]  (Sampling)
#&gt; Chain 4, Iteration: 2000 / 2000 [100%]  (Sampling)
#&gt;  Elapsed Time: 0.376858 seconds (Warm-up)
#&gt;                0.327719 seconds (Sampling)
#&gt;                0.704577 seconds (Total)
#&gt; </div><div class='input'><span class='no'>loo3</span> <span class='kw'>&lt;-</span> <span class='fu'>loo</span>(<span class='no'>fit3</span>, <span class='kw'>k_threshold</span> <span class='kw'>=</span> <span class='fl'>0.7</span>, <span class='kw'>cores</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>4 problematic observation(s) found.</span>
#&gt; <span class='message'>Model will be refit 4 times.</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 1 out of 4 (leaving out observation 9)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.559897 seconds (Warm-up)
#&gt;                0.498456 seconds (Sampling)
#&gt;                1.05835 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.592858 seconds (Warm-up)
#&gt;                0.502342 seconds (Sampling)
#&gt;                1.0952 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.570417 seconds (Warm-up)
#&gt;                0.568604 seconds (Sampling)
#&gt;                1.13902 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.537141 seconds (Warm-up)
#&gt;                0.436443 seconds (Sampling)
#&gt;                0.973584 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 2 out of 4 (leaving out observation 28)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.41678 seconds (Warm-up)
#&gt;                0.395254 seconds (Sampling)
#&gt;                0.812034 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.396101 seconds (Warm-up)
#&gt;                0.496748 seconds (Sampling)
#&gt;                0.892849 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.397708 seconds (Warm-up)
#&gt;                0.3769 seconds (Sampling)
#&gt;                0.774608 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.347902 seconds (Warm-up)
#&gt;                0.394292 seconds (Sampling)
#&gt;                0.742194 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 3 out of 4 (leaving out observation 29)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.460489 seconds (Warm-up)
#&gt;                0.366761 seconds (Sampling)
#&gt;                0.82725 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.418401 seconds (Warm-up)
#&gt;                0.420121 seconds (Sampling)
#&gt;                0.838522 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.400808 seconds (Warm-up)
#&gt;                0.410603 seconds (Sampling)
#&gt;                0.811411 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.38318 seconds (Warm-up)
#&gt;                0.436612 seconds (Sampling)
#&gt;                0.819792 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Fitting model 4 out of 4 (leaving out observation 31)</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.37714 seconds (Warm-up)
#&gt;                0.413887 seconds (Sampling)
#&gt;                0.791027 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.32518 seconds (Warm-up)
#&gt;                0.311741 seconds (Sampling)
#&gt;                0.636921 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.336695 seconds (Warm-up)
#&gt;                0.404169 seconds (Sampling)
#&gt;                0.740864 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.376158 seconds (Warm-up)
#&gt;                0.335592 seconds (Sampling)
#&gt;                0.71175 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>loo1</span>, <span class='no'>loo2</span>, <span class='no'>loo3</span>)</div><div class='output co'>#&gt;      looic se_looic elpd_loo se_elpd_loo p_loo se_p_loo
#&gt; fit2 156.9   9.0    -78.5      4.5         4.0   1.2   
#&gt; fit1 166.6   8.4    -83.3      4.2         3.0   1.1   
#&gt; fit3 170.2   7.0    -85.1      3.5        10.9   2.1   </div><div class='input'>
<span class='co'># 10-fold cross-validation</span>
(<span class='no'>kfold1</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit1</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>))</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.05169 seconds (Warm-up)
#&gt;                0.049108 seconds (Sampling)
#&gt;                0.100798 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.054775 seconds (Warm-up)
#&gt;                0.04654 seconds (Sampling)
#&gt;                0.101315 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.047295 seconds (Warm-up)
#&gt;                0.046173 seconds (Sampling)
#&gt;                0.093468 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048262 seconds (Warm-up)
#&gt;                0.047045 seconds (Sampling)
#&gt;                0.095307 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051002 seconds (Warm-up)
#&gt;                0.052085 seconds (Sampling)
#&gt;                0.103087 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.055041 seconds (Warm-up)
#&gt;                0.047837 seconds (Sampling)
#&gt;                0.102878 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050749 seconds (Warm-up)
#&gt;                0.045912 seconds (Sampling)
#&gt;                0.096661 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.056753 seconds (Warm-up)
#&gt;                0.050355 seconds (Sampling)
#&gt;                0.107108 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.053523 seconds (Warm-up)
#&gt;                0.047076 seconds (Sampling)
#&gt;                0.100599 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046426 seconds (Warm-up)
#&gt;                0.050367 seconds (Sampling)
#&gt;                0.096793 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.058457 seconds (Warm-up)
#&gt;                0.048217 seconds (Sampling)
#&gt;                0.106674 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.057398 seconds (Warm-up)
#&gt;                0.045826 seconds (Sampling)
#&gt;                0.103224 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050145 seconds (Warm-up)
#&gt;                0.043043 seconds (Sampling)
#&gt;                0.093188 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.051858 seconds (Warm-up)
#&gt;                0.040949 seconds (Sampling)
#&gt;                0.092807 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048067 seconds (Warm-up)
#&gt;                0.046298 seconds (Sampling)
#&gt;                0.094365 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049772 seconds (Warm-up)
#&gt;                0.044444 seconds (Sampling)
#&gt;                0.094216 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.05 seconds (Warm-up)
#&gt;                0.043618 seconds (Sampling)
#&gt;                0.093618 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046936 seconds (Warm-up)
#&gt;                0.044823 seconds (Sampling)
#&gt;                0.091759 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046496 seconds (Warm-up)
#&gt;                0.04261 seconds (Sampling)
#&gt;                0.089106 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.052128 seconds (Warm-up)
#&gt;                0.047406 seconds (Sampling)
#&gt;                0.099534 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.044737 seconds (Warm-up)
#&gt;                0.047536 seconds (Sampling)
#&gt;                0.092273 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048091 seconds (Warm-up)
#&gt;                0.046224 seconds (Sampling)
#&gt;                0.094315 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.046383 seconds (Warm-up)
#&gt;                0.04707 seconds (Sampling)
#&gt;                0.093453 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050393 seconds (Warm-up)
#&gt;                0.046782 seconds (Sampling)
#&gt;                0.097175 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051784 seconds (Warm-up)
#&gt;                0.047876 seconds (Sampling)
#&gt;                0.09966 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050812 seconds (Warm-up)
#&gt;                0.045916 seconds (Sampling)
#&gt;                0.096728 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050681 seconds (Warm-up)
#&gt;                0.0604 seconds (Sampling)
#&gt;                0.111081 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.055176 seconds (Warm-up)
#&gt;                0.053081 seconds (Sampling)
#&gt;                0.108257 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.052925 seconds (Warm-up)
#&gt;                0.046067 seconds (Sampling)
#&gt;                0.098992 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.048318 seconds (Warm-up)
#&gt;                0.051145 seconds (Sampling)
#&gt;                0.099463 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.057105 seconds (Warm-up)
#&gt;                0.046962 seconds (Sampling)
#&gt;                0.104067 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.049769 seconds (Warm-up)
#&gt;                0.043735 seconds (Sampling)
#&gt;                0.093504 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.051498 seconds (Warm-up)
#&gt;                0.045382 seconds (Sampling)
#&gt;                0.09688 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05096 seconds (Warm-up)
#&gt;                0.048398 seconds (Sampling)
#&gt;                0.099358 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.05122 seconds (Warm-up)
#&gt;                0.046652 seconds (Sampling)
#&gt;                0.097872 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.068231 seconds (Warm-up)
#&gt;                0.08198 seconds (Sampling)
#&gt;                0.150211 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.050956 seconds (Warm-up)
#&gt;                0.045893 seconds (Sampling)
#&gt;                0.096849 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.050385 seconds (Warm-up)
#&gt;                0.045715 seconds (Sampling)
#&gt;                0.0961 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.060155 seconds (Warm-up)
#&gt;                0.049794 seconds (Sampling)
#&gt;                0.109949 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.0501 seconds (Warm-up)
#&gt;                0.044512 seconds (Sampling)
#&gt;                0.094612 seconds (Total)
#&gt; </div><div class='output co'>#&gt; 
#&gt;  10-fold cross-validation
#&gt; 
#&gt;            Estimate  SE
#&gt; elpd_kfold    -80.3 3.2</div><div class='input'><span class='no'>kfold2</span> <span class='kw'>&lt;-</span> <span class='fu'>kfold</span>(<span class='no'>fit2</span>, <span class='kw'>K</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Fitting model 1 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.075127 seconds (Warm-up)
#&gt;                0.084761 seconds (Sampling)
#&gt;                0.159888 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.068061 seconds (Warm-up)
#&gt;                0.063076 seconds (Sampling)
#&gt;                0.131137 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.073305 seconds (Warm-up)
#&gt;                0.070639 seconds (Sampling)
#&gt;                0.143944 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078879 seconds (Warm-up)
#&gt;                0.078452 seconds (Sampling)
#&gt;                0.157331 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 2 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.081706 seconds (Warm-up)
#&gt;                0.070557 seconds (Sampling)
#&gt;                0.152263 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.084141 seconds (Warm-up)
#&gt;                0.062805 seconds (Sampling)
#&gt;                0.146946 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.071179 seconds (Warm-up)
#&gt;                0.076319 seconds (Sampling)
#&gt;                0.147498 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074346 seconds (Warm-up)
#&gt;                0.070537 seconds (Sampling)
#&gt;                0.144883 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 3 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078592 seconds (Warm-up)
#&gt;                0.076366 seconds (Sampling)
#&gt;                0.154958 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.082796 seconds (Warm-up)
#&gt;                0.089723 seconds (Sampling)
#&gt;                0.172519 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.112064 seconds (Warm-up)
#&gt;                0.093047 seconds (Sampling)
#&gt;                0.205111 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075177 seconds (Warm-up)
#&gt;                0.092011 seconds (Sampling)
#&gt;                0.167188 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 4 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.079152 seconds (Warm-up)
#&gt;                0.089074 seconds (Sampling)
#&gt;                0.168226 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.101548 seconds (Warm-up)
#&gt;                0.112225 seconds (Sampling)
#&gt;                0.213773 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.113508 seconds (Warm-up)
#&gt;                0.095064 seconds (Sampling)
#&gt;                0.208572 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.106948 seconds (Warm-up)
#&gt;                0.092416 seconds (Sampling)
#&gt;                0.199364 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 5 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.096997 seconds (Warm-up)
#&gt;                0.094832 seconds (Sampling)
#&gt;                0.191829 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.134395 seconds (Warm-up)
#&gt;                0.128442 seconds (Sampling)
#&gt;                0.262837 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.087016 seconds (Warm-up)
#&gt;                0.085673 seconds (Sampling)
#&gt;                0.172689 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.077977 seconds (Warm-up)
#&gt;                0.087276 seconds (Sampling)
#&gt;                0.165253 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 6 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.073002 seconds (Warm-up)
#&gt;                0.071191 seconds (Sampling)
#&gt;                0.144193 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.097967 seconds (Warm-up)
#&gt;                0.114697 seconds (Sampling)
#&gt;                0.212664 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.118451 seconds (Warm-up)
#&gt;                0.092515 seconds (Sampling)
#&gt;                0.210966 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.115867 seconds (Warm-up)
#&gt;                0.111028 seconds (Sampling)
#&gt;                0.226895 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 7 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.085587 seconds (Warm-up)
#&gt;                0.090025 seconds (Sampling)
#&gt;                0.175612 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.131834 seconds (Warm-up)
#&gt;                0.092452 seconds (Sampling)
#&gt;                0.224286 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.097497 seconds (Warm-up)
#&gt;                0.087685 seconds (Sampling)
#&gt;                0.185182 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.080315 seconds (Warm-up)
#&gt;                0.106026 seconds (Sampling)
#&gt;                0.186341 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 8 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.082102 seconds (Warm-up)
#&gt;                0.077634 seconds (Sampling)
#&gt;                0.159736 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085815 seconds (Warm-up)
#&gt;                0.074063 seconds (Sampling)
#&gt;                0.159878 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.078155 seconds (Warm-up)
#&gt;                0.078662 seconds (Sampling)
#&gt;                0.156817 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.085175 seconds (Warm-up)
#&gt;                0.102324 seconds (Sampling)
#&gt;                0.187499 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 9 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.099199 seconds (Warm-up)
#&gt;                0.084422 seconds (Sampling)
#&gt;                0.183621 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.114953 seconds (Warm-up)
#&gt;                0.096493 seconds (Sampling)
#&gt;                0.211446 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074174 seconds (Warm-up)
#&gt;                0.079915 seconds (Sampling)
#&gt;                0.154089 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074877 seconds (Warm-up)
#&gt;                0.072913 seconds (Sampling)
#&gt;                0.14779 seconds (Total)
#&gt; </div><div class='output co'>#&gt; <span class='message'>Fitting model 10 out of 10</span></div><div class='output co'>#&gt; 
#&gt;  Elapsed Time: 0.078723 seconds (Warm-up)
#&gt;                0.081099 seconds (Sampling)
#&gt;                0.159822 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.075939 seconds (Warm-up)
#&gt;                0.0683 seconds (Sampling)
#&gt;                0.144239 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.087745 seconds (Warm-up)
#&gt;                0.083819 seconds (Sampling)
#&gt;                0.171564 seconds (Total)
#&gt; 
#&gt; 
#&gt;  Elapsed Time: 0.074209 seconds (Warm-up)
#&gt;                0.087705 seconds (Sampling)
#&gt;                0.161914 seconds (Total)
#&gt; </div><div class='input'><span class='fu'>compare_models</span>(<span class='no'>kfold1</span>, <span class='no'>kfold2</span>)</div><div class='output co'>#&gt; elpd_diff        se 
#&gt;       5.8       4.4 </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#approximate-loo-cv">Approximate LOO CV</a></li>

      <li><a href="#k-fold-cv">K-fold CV</a></li>

      <li><a href="#comparing-models">Comparing models</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
