<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Applied Regression Modeling via RStan — rstanarm-package • rstanarm</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rstanarm</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../Articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="https://htmlpreview.github.io/?https://github.com/stan-dev/rstanarm/blob/master/dev-notes/rstanarm_dev_notes.html">Develop</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstan.html">rstan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/bayesplot.html">bayesplot</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/shinystan.html">shinystan</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/loo.html">loo</a>
    </li>
    <li>
      <a href="http://mc-stan.org/users/interfaces/rstantools.html">rstantools</a>
    </li>
  </ul>
</li>
<li>
  <a href="http://mc-stan.org">Stan</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/mcmc_stan">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/stan-dev/rstanarm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Applied Regression Modeling via RStan</h1>
    </div>

    
    <p><img src='figures/stanlogo.png' width="50px" alt="mc-stan.org" />
   <em>Stan Development Team</em></p>
<p>The <span class="pkg">rstanarm</span> package is an appendage to the <span class="pkg">rstan</span> package that
enables many of the most common applied regression models to be estimated
using Markov Chain Monte Carlo, variational approximations to the posterior
distribution, or optimization. The <span class="pkg">rstanarm</span> package allows these models
to be specified using the customary R modeling syntax (e.g., like that of
<code><a href='http://www.rdocumentation.org/packages/stats/topics/glm'>glm</a></code> with a <code>formula</code> and a <code>data.frame</code>).</p>
<p>The set of models supported by <span class="pkg">rstanarm</span> is large (and will continue to
grow), but also limited enough so that it is possible to integrate them
tightly with the <code><a href='pp_check.stanreg.html'>pp_check</a></code> function for graphical posterior
predictive checks and the <code><a href='posterior_predict.stanreg.html'>posterior_predict</a></code> function to easily
estimate the effect of specific manipulations of predictor variables or to
predict the outcome in a training set.</p>
<p>The objects returned by the <span class="pkg">rstanarm</span> modeling functions are called
<code><a href='stanreg-objects.html'>stanreg</a></code> objects. In addition to all of the
typical <code><a href='stanreg-methods.html'>methods</a></code> defined for fitted model
objects, stanreg objects can be passed to the <code><a href='http://www.rdocumentation.org/packages/loo/topics/loo'>loo</a></code> function
in the <span class="pkg">loo</span> package for model comparison or to the
<code><a href='http://www.rdocumentation.org/packages/shinystan/topics/launch_shinystan'>launch_shinystan</a></code> function in the <span class="pkg">shinystan</span>
package in order to visualize the posterior distribution using the ShinyStan
graphical user interface. See the <span class="pkg">rstanarm</span> vignettes for more details
about the entire process.</p>
    

        
    <h2 class="hasAnchor" id="estimation-algorithms"><a class="anchor" href="#estimation-algorithms"></a>Estimation algorithms</h2>

    
    <p>The modeling functions in the <span class="pkg">rstanarm</span> package take an <code>algorithm</code>
argument that can be one of the following:</p><dl class='dl-horizontal'>
 <dt><strong>Sampling</strong> (<code>algorithm="sampling"</code>)</dt><dd><p>Uses Markov Chain Monte Carlo (MCMC) --- in particular, Hamiltonian Monte
 Carlo (HMC) with a tuned but diagonal mass matrix --- to draw from the
 posterior distribution of the parameters. See <code><a href='http://www.rdocumentation.org/packages/rstan/topics/stanmodel-method-sampling'>sampling</a></code>
 for more details. This is the slowest but most reliable of the available
 estimation algorithms and it is <strong>the default and recommended
 algorithm for statistical inference.</strong></p></dd>
 <dt><strong>Mean-field</strong> (<code>algorithm="meanfield"</code>)</dt><dd><p>Uses mean-field variational inference to draw from an approximation to the
 posterior distribution. In particular, this algorithm finds the set of
 independent normal distributions in the unconstrained space that --- when
 transformed into the constrained space --- most closely approximate the
 posterior distribution. Then it draws repeatedly from these independent
 normal distributions and transforms them into the constrained space. The
 entire process is much faster than HMC and yields independent draws but
 <strong>is not recommended for final statistical inference</strong>. It can be
 useful to narrow the set of candidate models in large problems, particularly
 when specifying <code>QR=TRUE</code> in <code><a href='stan_glm.html'>stan_glm</a></code>,
 <code><a href='stan_glmer.html'>stan_glmer</a></code>, and <code><a href='stan_gamm4.html'>stan_gamm4</a></code>, but is <strong>only
 an approximation to the posterior distribution</strong>.</p></dd>
 <dt><strong>Full-rank</strong> (<code>algorithm="fullrank"</code>)</dt><dd><p>Uses full-rank variational inference to draw from an approximation to the
 posterior distribution by finding the multivariate normal distribution in
 the unconstrained space that --- when transformed into the constrained space
 --- most closely approximates the posterior distribution. Then it draws
 repeatedly from this multivariate normal distribution and transforms the
 draws into the constrained space. This process is slower than meanfield
 variational inference but is faster than HMC. Although still an
 approximation to the posterior distribution and thus <strong>not recommended
 for final statistical inference</strong>, the approximation is more realistic than
 that of mean-field variational inference because the parameters are not
 assumed to be independent in the unconstrained space. Nevertheless, fullrank
 variational inference is a more difficult optimization problem and the
 algorithm is more prone to non-convergence or convergence to a local
 optimum.</p></dd>
 <dt><strong>Optimizing</strong> (<code>algorithm="optimizing"</code>)</dt><dd><p>Finds the posterior mode using a C++ implementation of the LBGFS algorithm.
 See <code><a href='http://www.rdocumentation.org/packages/rstan/topics/stanmodel-method-optimizing'>optimizing</a></code> for more details. If there is no prior
 information, then this is equivalent to maximum likelihood, in which case
 there is no great reason to use the functions in the <span class="pkg">rstanarm</span> package
 over the emulated functions in other packages. However, if priors are
 specified, then the estimates are penalized maximum likelihood estimates,
 which may have some redeeming value. Currently, optimization is only
 supported for <code><a href='stan_glm.html'>stan_glm</a></code>.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="modeling-functions"><a class="anchor" href="#modeling-functions"></a>Modeling functions</h2>

    
    <p>The model estimating functions are described in greater detail in their
individual help pages and vignettes. Here we provide a very brief
overview:</p><dl class='dl-horizontal'>
 <dt><code><a href='stan_lm.html'>stan_lm</a></code>, <code>stan_aov</code>, <code>stan_biglm</code></dt><dd><p>Similar to <code><a href='http://www.rdocumentation.org/packages/stats/topics/lm'>lm</a></code> or <code><a href='http://www.rdocumentation.org/packages/stats/topics/aov'>aov</a></code> but with
  novel regularizing priors on the model parameters that are driven by prior
  beliefs about \(R^2\), the proportion of variance in the outcome
  attributable to the predictors in a linear model.</p></dd>
 <dt><code><a href='stan_glm.html'>stan_glm</a></code>, <code>stan_glm.nb</code></dt><dd><p>Similar to <code><a href='http://www.rdocumentation.org/packages/stats/topics/glm'>glm</a></code> but with various possible prior
 distributions for the coefficients and, if applicable, a prior distribution
 for any auxiliary parameter in a Generalized Linear Model (GLM) that is
 characterized by a <code><a href='http://www.rdocumentation.org/packages/stats/topics/family'>family</a></code> object (e.g. the shape
 parameter in Gamma models). It is also possible to estimate a negative
 binomial model in a similar way to the <code><a href='http://www.rdocumentation.org/packages/MASS/topics/glm.nb'>glm.nb</a></code> function
 in the <span class="pkg">MASS</span> package.</p></dd>
 <dt><code><a href='stan_glmer.html'>stan_glmer</a></code>, <code>stan_glmer.nb</code>, <code>stan_lmer</code></dt><dd><p>Similar to the <code><a href='http://www.rdocumentation.org/packages/lme4/topics/glmer'>glmer</a></code>, <code><a href='http://www.rdocumentation.org/packages/lme4/topics/glmer.nb'>glmer.nb</a></code> and
  <code><a href='http://www.rdocumentation.org/packages/lme4/topics/lmer'>lmer</a></code> functions in the <span class="pkg">lme4</span> package in that GLMs
  are augmented to have group-specific terms that deviate from the common
  coefficients according to a mean-zero multivariate normal distribution with
  a highly-structured but unknown covariance matrix (for which <span class="pkg">rstanarm</span>
  introduces an innovative prior distribution). MCMC provides more
  appropriate estimates of uncertainty for models that consist of a mix of
  common and group-specific parameters.</p></dd>
 <dt><code><a href='stan_gamm4.html'>stan_gamm4</a></code></dt><dd><p>Similar to <code>gamm4</code> in the <span class="pkg">gamm4</span> package, which
  augments a GLM (possibly with group-specific terms) with nonlinear smooth
  functions of the predictors to form a Generalized Additive Mixed Model
  (GAMM). Rather than calling <code><a href='http://www.rdocumentation.org/packages/lme4/topics/glmer'>glmer</a></code> like
  <code>gamm4</code> does, <code><a href='stan_gamm4.html'>stan_gamm4</a></code> essentially calls
  <code><a href='stan_glmer.html'>stan_glmer</a></code>, which avoids the optimization issues that often
  crop up with GAMMs and provides better estimates for the uncertainty of the
  parameter estimates.</p></dd>
 <dt><code><a href='stan_polr.html'>stan_polr</a></code></dt><dd><p>Similar to <code><a href='http://www.rdocumentation.org/packages/MASS/topics/polr'>polr</a></code> in the <span class="pkg">MASS</span> package in that it
  models an ordinal response, but the Bayesian model also implies a prior
  distribution on the unknown cutpoints. Can also be used to model binary
  outcomes, possibly while estimating an unknown exponent governing the
  probability of success.</p></dd>
 <dt><code><a href='stan_betareg.html'>stan_betareg</a></code></dt><dd><p>Similar to <code><a href='http://www.rdocumentation.org/packages/betareg/topics/betareg'>betareg</a></code> in that it models an outcome that
  is a rate (proportion) but, rather than performing maximum likelihood
  estimation, full Bayesian estimation is performed by default, with
  customizable prior distributions for all parameters.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="prior-distributions"><a class="anchor" href="#prior-distributions"></a>Prior distributions</h2>

    
    <p>See <a href='priors.html'>priors help page</a> for an overview of the various choices
the user can make for prior distributions. The package vignettes also provide
examples of using many of the available priors as well as more detailed
descriptions of some of the novel priors used by <span class="pkg">rstanarm</span>.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Bates, D., Maechler, M., Bolker, B., and Walker, S. (2015). Fitting linear 
mixed-Effects models using lme4. <em>Journal of Statistical Software</em>.
67(1), 1--48.</p>
<p>Gelman, A., Carlin, J. B., Stern, H. S., Dunson, D. B., Vehtari,
  A., and Rubin, D. B. (2013). <em>Bayesian Data Analysis.</em> Chapman &amp; Hall/CRC
  Press, London, third edition. <a href = 'http://stat.columbia.edu/~gelman/book/'>http://stat.columbia.edu/~gelman/book/</a></p>
<p>Gelman, A. and Hill, J. (2007). <em>Data Analysis Using
  Regression and Multilevel/Hierarchical Models.</em> Cambridge University Press,
  Cambridge, UK. <a href = 'http://stat.columbia.edu/~gelman/arm/'>http://stat.columbia.edu/~gelman/arm/</a></p>
<p>Stan Development Team. (2016). <em>Stan Modeling Language Users Guide and
Reference Manual.</em> <a href = 'http://mc-stan.org/documentation/'>http://mc-stan.org/documentation/</a></p>
<p>Vehtari, A., Gelman, A., and Gabry, J. (2017). Practical
  Bayesian model evaluation using leave-one-out cross-validation and WAIC.
  <em>Statistics and Computing</em>. 27(5), 1413--1432.
  doi:10.1007/s11222-016-9696-4. arXiv preprint:
  <a href = 'http://arxiv.org/abs/1507.04544/'>http://arxiv.org/abs/1507.04544/</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <ul>
<li><p><code><a href='stanreg-objects.html'>stanreg-objects</a></code> and <code><a href='stanreg-methods.html'>stanreg-methods</a></code> for
  details on the fitted model objects returned by the modeling functions.</p></li>
<li><p>The custom <code><a href='plot.stanreg.html'>plot</a></code> and
  <code><a href='pp_check.stanreg.html'>pp_check</a></code> methods for the various plots that can be used to
  explore and check fitted models.</p></li>
<li><p><a href = 'http://mc-stan.org/'>http://mc-stan.org/</a> for more information on the Stan C++
  package used by <span class="pkg">rstanarm</span> for model fitting.</p></li>
<li><p><a href = 'https://github.com/stan-dev/rstanarm/issues/'>https://github.com/stan-dev/rstanarm/issues/</a> to submit a bug
  report or feature request.</p></li>
<li><p><a href = 'https://groups.google.com/forum/#!forum/stan-users/'>https://groups.google.com/forum/#!forum/stan-users/</a> to ask a
  question about <span class="pkg">rstanarm</span> on the Stan-users forum.</p></li>
</ul>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#estimation-algorithms">Estimation algorithms</a></li>

      <li><a href="#modeling-functions">Modeling functions</a></li>

      <li><a href="#prior-distributions">Prior distributions</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jonah Gabry, Ben Goodrich.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
