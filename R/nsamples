#' @importFrom purrr map_dbl
#' @export
nsamples.stanreg <- function(x, incl_warmup = FALSE, ...) {
  if (incl_warmup)
    x <- purrr::map_dbl(x$stanfit@stan_args, ~ .x$iter)
  else
    x <- purrr::map_dbl(x$stanfit@stan_args, ~ .x$iter - .x$warmup)

  sum(x)
}
